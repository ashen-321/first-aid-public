
Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7870
  Network URL: http://172.31.11.95:7870
  External URL: http://44.229.65.238:7870

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7870
  Network URL: http://172.31.11.95:7870
  External URL: http://44.229.65.238:7870

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m18[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m15 [0m[94mimport[0m[90m [0m[4;96mhmac[0m                                                                     [31m [0m
[31m [0m   [2m16 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                              [31m [0m
[31m [0m   [2m17 [0m[94mimport[0m[90m [0m[4;96mlogging[0m                                                                  [31m [0m
[31m [0m [31m❱ [0m18 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mstreamlit_pdf_viewer[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m pdf_viewer[0m                                     [31m [0m
[31m [0m   [2m19 [0m[94mfrom[0m[90m [0m[4;96mconcurrent[0m[4;96m.[0m[4;96mfutures[0m[90m [0m[94mimport[0m ThreadPoolExecutor                               [31m [0m
[31m [0m   [2m20 [0m                                                                                [31m [0m
[31m [0m   [2m21 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'streamlit_pdf_viewer'[0m
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m24[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m21 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m22 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m   [2m23 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m24 aoss_host = [1;4mread_key_value[0m([33m"[0m[33m.aoss_config.txt[0m[33m"[0m, [33m"[0m[33mAOSS_host_name[0m[33m"[0m)                [31m [0m
[31m [0m   [2m25 [0maoss_index = read_key_value([33m"[0m[33m.aoss_config.txt[0m[33m"[0m, [33m"[0m[33mAOSS_index_name[0m[33m"[0m)              [31m [0m
[31m [0m   [2m26 [0m                                                                                [31m [0m
[31m [0m   [2m27 [0m                                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'read_key_value'[0m is not defined
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m30[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m27 [0m                                                                                [31m [0m
[31m [0m   [2m28 [0m                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mblog_writer.py[0m:[94m2[0m in [92m<module>[0m            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  1 [0m[94mimport[0m[90m [0m[4;96mos[0m                                                                      [31m [0m
[31m [0m [31m❱ [0m  2 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mcrewai[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Agent, Task, Crew, Process, LLM[0m                             [31m [0m
[31m [0m   [2m  3 [0m[94mfrom[0m[90m [0m[4;96mdotenv[0m[90m [0m[94mimport[0m load_dotenv                                                 [31m [0m
[31m [0m   [2m  4 [0m[2m#from langchain.tools import DuckDuckGoSearchRun[0m                               [31m [0m
[31m [0m   [2m  5 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[90m [0m[94mimport[0m DuckDuckGoSearchRun                      [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'crewai'[0m
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m30[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m27 [0m[94mfor[0m module_path [95min[0m module_paths:                                                [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m30 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mblog_writer[0m[1;4;90m [0m[1;4;94mimpo[0m[94mrt[0m *                                                       [31m [0m
[31m [0m   [2m31 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m32 [0m[94mfrom[0m[90m [0m[4;96mutils[0m[90m [0m[94mimport[0m *                                                             [31m [0m
[31m [0m   [2m33 [0m[94mfrom[0m[90m [0m[4;96mvideo_captioning[0m[90m [0m[94mimport[0m *                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutility.py[0m:[94m14[0m in [92m<module>[0m               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 11 [0m[94mimport[0m[90m [0m[4;96murllib[0m[4;96m.[0m[4;96mrequest[0m                                                          [31m [0m
[31m [0m   [2m 12 [0m[94mimport[0m[90m [0m[4;96mshutil[0m                                                                  [31m [0m
[31m [0m   [2m 13 [0m[94mfrom[0m[90m [0m[4;96mio[0m[90m [0m[94mimport[0m StringIO                                                        [31m [0m
[31m [0m [31m❱ [0m 14 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangdetect[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m detect[0m                                                  [31m [0m
[31m [0m   [2m 15 [0m                                                                               [31m [0m
[31m [0m   [2m 16 [0m[94mfrom[0m[90m [0m[4;96mtyping[0m[90m [0m[94mimport[0m Optional                                                    [31m [0m
[31m [0m   [2m 17 [0m[94mfrom[0m[90m [0m[4;96mbotocore[0m[4;96m.[0m[4;96mconfig[0m[90m [0m[94mimport[0m Config                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langdetect'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m30[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m27 [0m[94mfor[0m module_path [95min[0m module_paths:                                                [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m30 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutility[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m31 [0m[94mfrom[0m[90m [0m[4;96mutils[0m[90m [0m[94mimport[0m *                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutility.py[0m:[94m32[0m in [92m<module>[0m               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 29 [0m                                                                               [31m [0m
[31m [0m   [2m 30 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mrunnables[0m[90m [0m[94mimport[0m RunnableParallel, Runnable, RunnableLambd [31m [0m
[31m [0m   [2m 31 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m ChatPromptTemplate                               [31m [0m
[31m [0m [31m❱ [0m 32 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_aws[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m BedrockLLM, ChatBedrock, ChatBedrockConverse[0m         [31m [0m
[31m [0m   [2m 33 [0m[94mfrom[0m[90m [0m[4;96manthropic[0m[90m [0m[94mimport[0m AnthropicBedrock                                         [31m [0m
[31m [0m   [2m 34 [0m                                                                               [31m [0m
[31m [0m   [2m 35 [0mconfig_filename = [33m'[0m[33m.aoss_config.txt[0m[33m'[0m                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_aws'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m30[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m27 [0m[94mfor[0m module_path [95min[0m module_paths:                                                [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m30 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutility[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m31 [0m[94mfrom[0m[90m [0m[4;96mutils[0m[90m [0m[94mimport[0m *                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutility.py[0m:[94m33[0m in [92m<module>[0m               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 30 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mrunnables[0m[90m [0m[94mimport[0m RunnableParallel, Runnable, RunnableLambd [31m [0m
[31m [0m   [2m 31 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m ChatPromptTemplate                               [31m [0m
[31m [0m   [2m 32 [0m[94mfrom[0m[90m [0m[4;96mlangchain_aws[0m[90m [0m[94mimport[0m BedrockLLM, ChatBedrock, ChatBedrockConverse         [31m [0m
[31m [0m [31m❱ [0m 33 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96manthropic[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m AnthropicBedrock[0m                                         [31m [0m
[31m [0m   [2m 34 [0m                                                                               [31m [0m
[31m [0m   [2m 35 [0mconfig_filename = [33m'[0m[33m.aoss_config.txt[0m[33m'[0m                                           [31m [0m
[31m [0m   [2m 36 [0msuffix = random.randrange([94m200[0m, [94m900[0m)                                            [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'anthropic'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m30[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m27 [0m[94mfor[0m module_path [95min[0m module_paths:                                                [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m30 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutility[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m31 [0m[94mfrom[0m[90m [0m[4;96mutils[0m[90m [0m[94mimport[0m *                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutility.py[0m:[94m49[0m in [92m<module>[0m               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 46 [0mbedrock_agent_client = boto3_session.client([33m'[0m[33mbedrock-agent[0m[33m'[0m, region_name=regio [31m [0m
[31m [0m   [2m 47 [0mbedrock_client = boto3.client([33m"[0m[33mbedrock-runtime[0m[33m"[0m, region_name=region_name)      [31m [0m
[31m [0m   [2m 48 [0mbedrock_agent_runtime_client = boto3.client([33m"[0m[33mbedrock-agent-runtime[0m[33m"[0m, region_na [31m [0m
[31m [0m [31m❱ [0m 49 s3_client = [1;4mboto3.client([0m[1;4;33m'[0m[1;4;33ms3[0m[1;4;33m'[0m[1;4m)[0m                                                 [31m [0m
[31m [0m   [2m 50 [0maccount_id = sts_client.get_caller_identity()[[33m"[0m[33mAccount[0m[33m"[0m]                       [31m [0m
[31m [0m   [2m 51 [0ms3_suffix = [33mf[0m[33m"[0m[33m{[0mregion_name[33m}[0m[33m-[0m[33m{[0maccount_id[33m}[0m[33m"[0m                                      [31m [0m
[31m [0m   [2m 52 [0mbucket_name = [33mf[0m[33m'[0m[33mbedrock-kb-[0m[33m{[0ms3_suffix[33m}[0m[33m'[0m [2m# replace it with your bucket name.[0m    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/[0m[1;33m__init__.py[0m:[94m92[0m   [31m [0m
[31m [0m in [92mclient[0m                                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 89 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 90 [0m[2;33m│   [0m[33mSee :py:meth:`boto3.session.Session.client`.[0m                               [31m [0m
[31m [0m   [2m 91 [0m[2;33m│   [0m[33m"""[0m                                                                        [31m [0m
[31m [0m [31m❱ [0m 92 [2m│   [0m[94mreturn[0m [1;4m_get_default_session().client(*args, **kwargs)[0m                      [31m [0m
[31m [0m   [2m 93 [0m                                                                               [31m [0m
[31m [0m   [2m 94 [0m                                                                               [31m [0m
[31m [0m   [2m 95 [0m[94mdef[0m[90m [0m[92mresource[0m(*args, **kwargs):                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/[0m[1;33msession.py[0m:[94m322[0m   [31m [0m
[31m [0m in [92mclient[0m                                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m319 [0m[2;33m│   │   [0m[33m:return: Service client instance[0m                                       [31m [0m
[31m [0m   [2m320 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m321 [0m[2;33m│   │   [0m[33m"""[0m                                                                    [31m [0m
[31m [0m [31m❱ [0m322 [2m│   │   [0m[94mreturn[0m [96mself[0m._session.create_client(                                    [31m [0m
[31m [0m   [2m323 [0m[2m│   │   │   [0mservice_name,                                                      [31m [0m
[31m [0m   [2m324 [0m[2m│   │   │   [0mregion_name=region_name,                                           [31m [0m
[31m [0m   [2m325 [0m[2m│   │   │   [0mapi_version=api_version,                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mcontext.py[0m:[94m12[0m [31m [0m
[31m [0m [94m4[0m in [92mwrapper[0m                                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m121 [0m[2m│   │   │   [0m[94mwith[0m start_as_current_context():                                   [31m [0m
[31m [0m   [2m122 [0m[2m│   │   │   │   [0m[94mif[0m hook:                                                       [31m [0m
[31m [0m   [2m123 [0m[2m│   │   │   │   │   [0mhook()                                                     [31m [0m
[31m [0m [31m❱ [0m124 [2m│   │   │   │   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                   [31m [0m
[31m [0m   [2m125 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m126 [0m[2m│   │   [0m[94mreturn[0m wrapper                                                         [31m [0m
[31m [0m   [2m127 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33msession.py[0m:[94m10[0m [31m [0m
[31m [0m [94m19[0m in [92mcreate_client[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1016 [0m[2m│   │   │   [0mconfig_store,                                                     [31m [0m
[31m [0m   [2m1017 [0m[2m│   │   │   [0muser_agent_creator=user_agent_creator,                            [31m [0m
[31m [0m   [2m1018 [0m[2m│   │   [0m)                                                                     [31m [0m
[31m [0m [31m❱ [0m1019 [2m│   │   [0mclient = client_creator.create_client(                                [31m [0m
[31m [0m   [2m1020 [0m[2m│   │   │   [0mservice_name=service_name,                                        [31m [0m
[31m [0m   [2m1021 [0m[2m│   │   │   [0mregion_name=region_name,                                          [31m [0m
[31m [0m   [2m1022 [0m[2m│   │   │   [0mis_secure=use_ssl,                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mclient.py[0m:[94m148[0m [31m [0m
[31m [0m in [92mcreate_client[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 145 [0m[2m│   │   │   │   [0mservice_name,                                                 [31m [0m
[31m [0m   [2m 146 [0m[2m│   │   │   [0m)                                                                 [31m [0m
[31m [0m   [2m 147 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 148 [2m│   │   [0m[96mcls[0m = [1;4;96mself[0m[1;4m._create_client_class(service_name, service_model)[0m          [31m [0m
[31m [0m   [2m 149 [0m[2m│   │   [0mregion_name, client_config = [96mself[0m._normalize_fips_region(             [31m [0m
[31m [0m   [2m 150 [0m[2m│   │   │   [0mregion_name, client_config                                        [31m [0m
[31m [0m   [2m 151 [0m[2m│   │   [0m)                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mclient.py[0m:[94m206[0m [31m [0m
[31m [0m in [92m_create_client_class[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 203 [0m[2m│   │   [0mclass_attributes[[33m'[0m[33m_PY_TO_OP_NAME[0m[33m'[0m] = py_name_to_operation_name        [31m [0m
[31m [0m   [2m 204 [0m[2m│   │   [0mbases = [BaseClient]                                                  [31m [0m
[31m [0m   [2m 205 [0m[2m│   │   [0mservice_id = service_model.service_id.hyphenize()                     [31m [0m
[31m [0m [31m❱ [0m 206 [2m│   │   [0m[1;4;96mself[0m[1;4m._event_emitter.emit([0m                                             [31m [0m
[31m [0m   [2m 207 [0m[1;2;4m│   │   │   [0m[1;4;33mf[0m[1;4;33m'[0m[1;4;33mcreating-client-class.[0m[1;4;33m{[0m[1;4mservice_id[0m[1;4;33m}[0m[1;4;33m'[0m[1;4m,[0m                            [31m [0m
[31m [0m   [2m 208 [0m[1;2;4m│   │   │   [0m[1;4mclass_attributes=class_attributes,[0m                                [31m [0m
[31m [0m   [2m 209 [0m[1;2;4m│   │   │   [0m[1;4mbase_classes=bases,[0m                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m412[0m  [31m [0m
[31m [0m in [92memit[0m                                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m409 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m410 [0m[2m│   [0m[94mdef[0m[90m [0m[92memit[0m([96mself[0m, event_name, **kwargs):                                      [31m [0m
[31m [0m   [2m411 [0m[2m│   │   [0maliased_event_name = [96mself[0m._alias_event_name(event_name)                [31m [0m
[31m [0m [31m❱ [0m412 [2m│   │   [0m[94mreturn[0m [1;4;96mself[0m[1;4m._emitter.emit(aliased_event_name, **kwargs)[0m                [31m [0m
[31m [0m   [2m413 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m414 [0m[2m│   [0m[94mdef[0m[90m [0m[92memit_until_response[0m([96mself[0m, event_name, **kwargs):                       [31m [0m
[31m [0m   [2m415 [0m[2m│   │   [0maliased_event_name = [96mself[0m._alias_event_name(event_name)                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m256[0m  [31m [0m
[31m [0m in [92memit[0m                                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m253 [0m[2;33m│   │   [0m[33m:return: List of (handler, response) tuples from all processed[0m         [31m [0m
[31m [0m   [2m254 [0m[2;33m│   │   │   │    [0m[33mhandlers.[0m                                                     [31m [0m
[31m [0m   [2m255 [0m[2;33m│   │   [0m[33m"""[0m                                                                    [31m [0m
[31m [0m [31m❱ [0m256 [2m│   │   [0m[94mreturn[0m [1;4;96mself[0m[1;4m._emit(event_name, kwargs)[0m                                  [31m [0m
[31m [0m   [2m257 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m258 [0m[2m│   [0m[94mdef[0m[90m [0m[92memit_until_response[0m([96mself[0m, event_name, **kwargs):                       [31m [0m
[31m [0m   [2m259 [0m[2;90m│   │   [0m[33m"""[0m                                                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/botocore/[0m[1;33mhooks.py[0m:[94m239[0m  [31m [0m
[31m [0m in [92m_emit[0m                                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m236 [0m[2m│   │   [0mresponses = []                                                         [31m [0m
[31m [0m   [2m237 [0m[2m│   │   [0m[94mfor[0m handler [95min[0m handlers_to_call:                                       [31m [0m
[31m [0m   [2m238 [0m[2m│   │   │   [0mlogger.debug([33m'[0m[33mEvent [0m[33m%s[0m[33m: calling handler [0m[33m%s[0m[33m'[0m, event_name, handler)  [31m [0m
[31m [0m [31m❱ [0m239 [2m│   │   │   [0mresponse = [1;4mhandler(**kwargs)[0m                                       [31m [0m
[31m [0m   [2m240 [0m[2m│   │   │   [0mresponses.append((handler, response))                              [31m [0m
[31m [0m   [2m241 [0m[2m│   │   │   [0m[94mif[0m stop_on_response [95mand[0m response [95mis[0m [95mnot[0m [94mNone[0m:                      [31m [0m
[31m [0m   [2m242 [0m[2m│   │   │   │   [0m[94mreturn[0m responses                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/[0m[1;33mutils.py[0m:[94m65[0m in   [31m [0m
[31m [0m [92m_handler[0m                                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 62 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 63 [0m[2m│   [0m[94mdef[0m[90m [0m[92m_handler[0m(**kwargs):                                                    [31m [0m
[31m [0m   [2m 64 [0m[2m│   │   [0mmodule, function_name = full_name.rsplit([33m'[0m[33m.[0m[33m'[0m, [94m1[0m)                       [31m [0m
[31m [0m [31m❱ [0m 65 [2m│   │   [0mmodule = [1;4mimport_module(module)[0m                                         [31m [0m
[31m [0m   [2m 66 [0m[2m│   │   [0mkwargs.update(parent_kwargs)                                           [31m [0m
[31m [0m   [2m 67 [0m[2m│   │   [0m[94mreturn[0m [96mgetattr[0m(module, function_name)(**kwargs)                        [31m [0m
[31m [0m   [2m 68 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/[0m[1;33mutils.py[0m:[94m56[0m in   [31m [0m
[31m [0m [92mimport_module[0m                                                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 53 [0m[2;33m│   [0m[33mDoes not support relative imports.[0m                                         [31m [0m
[31m [0m   [2m 54 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 55 [0m[2;33m│   [0m[33m"""[0m                                                                        [31m [0m
[31m [0m [31m❱ [0m 56 [2m│   [0m[1;4;96m__import__[0m[1;4m(name)[0m                                                           [31m [0m
[31m [0m   [2m 57 [0m[2m│   [0m[94mreturn[0m sys.modules[name]                                                   [31m [0m
[31m [0m   [2m 58 [0m                                                                               [31m [0m
[31m [0m   [2m 59 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/s3/[0m[1;33minject.py[0m:[94m20[0m  [31m [0m
[31m [0m in [92m<module>[0m                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 17 [0m[94mfrom[0m[90m [0m[4;96mbotocore[0m[4;96m.[0m[4;96mexceptions[0m[90m [0m[94mimport[0m ClientError                                    [31m [0m
[31m [0m   [2m 18 [0m                                                                               [31m [0m
[31m [0m   [2m 19 [0m[94mfrom[0m[90m [0m[4;96mboto3[0m[90m [0m[94mimport[0m utils                                                        [31m [0m
[31m [0m [31m❱ [0m 20 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mboto3[0m[1;4;96m.[0m[1;4;96mcompat[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m is_append_mode[0m                                        [31m [0m
[31m [0m   [2m 21 [0m[94mfrom[0m[90m [0m[4;96mboto3[0m[4;96m.[0m[4;96ms3[0m[4;96m.[0m[4;96mtransfer[0m[90m [0m[94mimport[0m (                                                [31m [0m
[31m [0m   [2m 22 [0m[2m│   [0mProgressCallbackInvoker,                                                   [31m [0m
[31m [0m   [2m 23 [0m[2m│   [0mS3Transfer,                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'is_append_mode'[0m from [32m'boto3.compat'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/boto3/[0m[95mcompat.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m38[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  35 [0m[2m#from langchain.utilities import GoogleSearchAPIWrapper[0m                       [31m [0m
[31m [0m   [2m  36 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mweb_research[0m[90m [0m[94mimport[0m WebResearchRetriever            [31m [0m
[31m [0m   [2m  37 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[90m [0m[94mimport[0m GoogleSearchAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  38 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mreadabilipy[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m simple_json_from_html_string[0m [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m   [2m  41 [0m[94mfrom[0m[90m [0m[4;96mserpapi[0m[90m [0m[94mimport[0m GoogleSearch [2m#, BingSearch[0m                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'readabilipy'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'serpapi'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'serpapi'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m41[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  38 [0m[94mfrom[0m[90m [0m[4;96mreadabilipy[0m[90m [0m[94mimport[0m simple_json_from_html_string [2m# Required to parse HTML[0m [31m [0m
[31m [0m   [2m  39 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96magents[0m[90m [0m[94mimport[0m AgentExecutor, create_react_agent, initialize_ag [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m [31m❱ [0m  41 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mserpapi[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m GoogleSearch[0m [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m   [2m  43 [0m[94mfrom[0m[90m [0m[4;96mlangchain_deepseek[0m[90m [0m[94mimport[0m ChatDeepSeek                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'GoogleSearch'[0m from [32m'serpapi'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/serpapi/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m43[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  40 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mutilities[0m[4;96m.[0m[4;96mserpapi[0m[90m [0m[94mimport[0m SerpAPIWrapper              [31m [0m
[31m [0m   [2m  41 [0m[94mfrom[0m[90m [0m[4;96mserpapi[0m[90m [0m[94mimport[0m GoogleSearch [2m#, BingSearch[0m                                [31m [0m
[31m [0m   [2m  42 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mtools[0m[4;96m.[0m[4;96mtavily_search[0m[90m [0m[94mimport[0m TavilySearchResults       [31m [0m
[31m [0m [31m❱ [0m  43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_deepseek[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m ChatDeepSeek[0m                                   [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_deepseek'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/mmrag/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m31[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m28 [0m[2m│   [0msys.path.append(os.path.abspath(module_path))                               [31m [0m
[31m [0m   [2m29 [0m                                                                                [31m [0m
[31m [0m   [2m30 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m [31m❱ [0m31 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                             [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutils.py[0m:[94m47[0m in [92m<module>[0m                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  44 [0m                                                                              [31m [0m
[31m [0m   [2m  45 [0m                                                                              [31m [0m
[31m [0m   [2m  46 [0m[94mfrom[0m[90m [0m[4;96mlangchain_community[0m[4;96m.[0m[4;96mvectorstores[0m[90m [0m[94mimport[0m FAISS                            [31m [0m
[31m [0m [31m❱ [0m  47 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mlangchain_chroma[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Chroma[0m                                           [31m [0m
[31m [0m   [2m  48 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[90m [0m[94mimport[0m ContextualCompressionRetriever               [31m [0m
[31m [0m   [2m  49 [0m[94mfrom[0m[90m [0m[4;96mlangchain[0m[4;96m.[0m[4;96mretrievers[0m[4;96m.[0m[4;96mdocument_compressors[0m[90m [0m[94mimport[0m FlashrankRerank         [31m [0m
[31m [0m   [2m  50 [0m[2m# To address  RuntimeError: maximum recursion depth exceeded[0m                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'langchain_chroma'[0m
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m32 [0m                                                                                [31m [0m
[31m [0m   [2m33 [0mst.set_page_config(page_title=[33m"[0m[33mFirst Aid[0m[33m"[0m,page_icon=[33m"[0m[33m⚙️[0m[33m"[0m,layout=[33m"[0m[33mwide[0m[33m"[0m)          [31m [0m
[31m [0m   [2m34 [0mst.title([33m"[0m[33mPersonal assistant[0m[33m"[0m)                                                  [31m [0m
[31m [0m [31m❱ [0m35                                                                                 [31m [0m
[31m [0m   [2m36 [0maoss_host = read_key_value([33m"[0m[33m.aoss_config.txt[0m[33m"[0m, [33m"[0m[33mAOSS_host_name[0m[33m"[0m)                [31m [0m
[31m [0m   [2m37 [0maoss_index = read_key_value([33m"[0m[33m.aoss_config.txt[0m[33m"[0m, [33m"[0m[33mAOSS_index_name[0m[33m"[0m)              [31m [0m
[31m [0m   [2m38 [0m                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/mmrag/configs/[0m[1;33mutility.py[0m:[94m366[0m in [92mread_key_value[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m363 [0m                                                                               [31m [0m
[31m [0m   [2m364 [0m[2m# Get AOSS key and values[0m                                                      [31m [0m
[31m [0m   [2m365 [0m[94mdef[0m[90m [0m[92mread_key_value[0m(file_path, key1):                                           [31m [0m
[31m [0m [31m❱ [0m366 [2m│   [0m[94mwith[0m [1;4;96mopen[0m[1;4m(file_path, [0m[1;4;33m'[0m[1;4;33mr[0m[1;4;33m'[0m[1;4m)[0m [94mas[0m file:                                         [31m [0m
[31m [0m   [2m367 [0m[2m│   │   [0m[94mfor[0m line [95min[0m file:                                                      [31m [0m
[31m [0m   [2m368 [0m[2m│   │   │   [0mkey_value_pairs = line.strip().split([33m'[0m[33m:[0m[33m'[0m)                          [31m [0m
[31m [0m   [2m369 [0m[2m│   │   │   [0m[94mif[0m key_value_pairs[[94m0[0m] == key1:                                     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: [32m'.aoss_config.txt'[0m
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/mmrag/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'unstructured'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m14[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  11 [0m                                                                              [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m [31m❱ [0m  14 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mlayout[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m LTContainer, LTImage, LTItem, LTTextBox[0m           [31m [0m
[31m [0m   [2m  15 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mutils[0m[90m [0m[94mimport[0m open_filename                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pdfminer'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m15[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m [31m❱ [0m  15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m open_filename[0m                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'open_filename'[0m from [32m'pdfminer.utils'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfminer/[0m[95mutils.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m15[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m [31m❱ [0m  15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m open_filename[0m                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'open_filename'[0m from [32m'pdfminer.utils'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfminer/[0m[95mutils.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m15[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m [31m❱ [0m  15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m open_filename[0m                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'open_filename'[0m from [32m'pdfminer.utils'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfminer/[0m[95mutils.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m15[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m [31m❱ [0m  15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m open_filename[0m                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'open_filename'[0m from [32m'pdfminer.utils'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfminer/[0m[95mutils.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m15[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m [31m❱ [0m  15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m open_filename[0m                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'open_filename'[0m from [32m'pdfminer.utils'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfminer/[0m[95mutils.py[0m[1m)[0m
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m14[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  11 [0m                                                                              [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m [31m❱ [0m  14 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mlayout[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m LTContainer, LTImage, LTItem, LTTextBox[0m           [31m [0m
[31m [0m   [2m  15 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mutils[0m[90m [0m[94mimport[0m open_filename                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pdfminer.layout'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m14[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  11 [0m                                                                              [31m [0m
[31m [0m   [2m  12 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                            [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m [31m❱ [0m  14 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpdfminer[0m[1;4;96m.[0m[1;4;96mlayout[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m LTContainer, LTImage, LTItem, LTTextBox[0m           [31m [0m
[31m [0m   [2m  15 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mutils[0m[90m [0m[94mimport[0m open_filename                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pdfminer.layout'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m16[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  13 [0m[94mimport[0m[90m [0m[4;96mwrapt[0m                                                                  [31m [0m
[31m [0m   [2m  14 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m LTContainer, LTImage, LTItem, LTTextBox           [31m [0m
[31m [0m   [2m  15 [0m[94mfrom[0m[90m [0m[4;96mpdfminer[0m[4;96m.[0m[4;96mutils[0m[90m [0m[94mimport[0m open_filename                                      [31m [0m
[31m [0m [31m❱ [0m  16 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mpi_heif[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m register_heif_opener[0m                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m [0m   [2m  19 [0m[94mfrom[0m[90m [0m[4;96munstructured_inference[0m[4;96m.[0m[4;96minference[0m[4;96m.[0m[4;96mlayout[0m[90m [0m[94mimport[0m DocumentLayout            [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pi_heif'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m19[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m [0m [31m❱ [0m  19 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured_inference[0m[1;4;96m.[0m[1;4;96minference[0m[1;4;96m.[0m[1;4;96mlayout[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m DocumentLayout[0m            [31m [0m
[31m [0m   [2m  20 [0m[94mfrom[0m[90m [0m[4;96munstructured_inference[0m[4;96m.[0m[4;96minference[0m[4;96m.[0m[4;96mlayoutelement[0m[90m [0m[94mimport[0m LayoutElement      [31m [0m
[31m [0m   [2m  21 [0m                                                                              [31m [0m
[31m [0m   [2m  22 [0m[94mfrom[0m[90m [0m[4;96munstructured[0m[4;96m.[0m[4;96mchunking[0m[90m [0m[94mimport[0m add_chunking_strategy                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'unstructured_inference'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m19[0m in [92m<module>[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  16 [0m[94mfrom[0m[90m [0m[4;96mpi_heif[0m[90m [0m[94mimport[0m register_heif_opener                                      [31m [0m
[31m [0m   [2m  17 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image [94mas[0m PILImage                                             [31m [0m
[31m [0m   [2m  18 [0m[94mfrom[0m[90m [0m[4;96mpypdf[0m[90m [0m[94mimport[0m PdfReader                                                   [31m [0m
[31m [0m [31m❱ [0m  19 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured_inference[0m[1;4;96m.[0m[1;4;96minference[0m[1;4;96m.[0m[1;4;96mlayout[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m DocumentLayout[0m            [31m [0m
[31m [0m   [2m  20 [0m[94mfrom[0m[90m [0m[4;96munstructured_inference[0m[4;96m.[0m[4;96minference[0m[4;96m.[0m[4;96mlayoutelement[0m[90m [0m[94mimport[0m LayoutElement      [31m [0m
[31m [0m   [2m  21 [0m                                                                              [31m [0m
[31m [0m   [2m  22 [0m[94mfrom[0m[90m [0m[4;96munstructured[0m[4;96m.[0m[4;96mchunking[0m[90m [0m[94mimport[0m add_chunking_strategy                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured_inference[0m [31m [0m
[31m [0m [2;33m/inference/[0m[1;33mlayout.py[0m:[94m10[0m in [92m<module>[0m                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  7 [0m[94mfrom[0m[90m [0m[4;96mtyping[0m[90m [0m[94mimport[0m Any, BinaryIO, Collection, List, Optional, Union, cast      [31m [0m
[31m [0m   [2m  8 [0m                                                                               [31m [0m
[31m [0m   [2m  9 [0m[94mimport[0m[90m [0m[4;96mnumpy[0m[90m [0m[94mas[0m[90m [0m[4;96mnp[0m                                                             [31m [0m
[31m [0m [31m❱ [0m 10 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mpdf2image[0m                                                               [31m [0m
[31m [0m   [2m 11 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image, ImageSequence                                           [31m [0m
[31m [0m   [2m 12 [0m                                                                               [31m [0m
[31m [0m   [2m 13 [0m[94mfrom[0m[90m [0m[4;96munstructured_inference[0m[4;96m.[0m[4;96minference[0m[4;96m.[0m[4;96melements[0m[90m [0m[94mimport[0m (                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pdf2image'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m108[0m in [92m<module>[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 105 [0m[2m# Correct a bug that was introduced by a previous patch to[0m                    [31m [0m
[31m [0m   [2m 106 [0m[2m# pdfminer.six, causing needless and unsuccessful repairing of PDFs[0m           [31m [0m
[31m [0m   [2m 107 [0m[2m# which were not actually broken.[0m                                             [31m [0m
[31m [0m [31m❱ [0m 108 [1;4mpatch_psparser()[0m                                                              [31m [0m
[31m [0m   [2m 109 [0m                                                                              [31m [0m
[31m [0m   [2m 110 [0m                                                                              [31m [0m
[31m [0m   [2m 111 [0mRE_MULTISPACE_INCLUDING_NEWLINES = re.compile(pattern=[33mr[0m[33m"[0m[33m\[0m[33ms+[0m[33m"[0m, flags=re.DOTALL [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/patches/[0m[1;33mp[0m [31m [0m
[31m [0m [1;33mdfminer.py[0m:[94m73[0m in [92mpatch_psparser[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m70 [0m[2;33m│   [0m[33mboundaries (20231228 and 20240706).[0m                                         [31m [0m
[31m [0m   [2m71 [0m[2;33m│   [0m[33m"""[0m                                                                         [31m [0m
[31m [0m   [2m72 [0m[2m│   [0m[2m# Presuming the bug will be fixed in the next release[0m                       [31m [0m
[31m [0m [31m❱ [0m73 [2m│   [0m[94mif[0m [1;4mpdfminer.__version__[0m <= [33m"[0m[33m20240706[0m[33m"[0m:                                      [31m [0m
[31m [0m   [2m74 [0m[2m│   │   [0mPSBaseParser.seek = seek                                                [31m [0m
[31m [0m   [2m75 [0m[2m│   │   [0mPSBaseParser._parse_keyword = _parse_keyword                            [31m [0m
[31m [0m   [2m76 [0m[2m│   │   [0mPSBaseParser.nexttoken = nexttoken                                      [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0mmodule [32m'pdfminer'[0m has no attribute [32m'__version__'[0m
2025-04-12 01:39:23.909 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m108[0m in [92m<module>[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 105 [0m[2m# Correct a bug that was introduced by a previous patch to[0m                    [31m [0m
[31m [0m   [2m 106 [0m[2m# pdfminer.six, causing needless and unsuccessful repairing of PDFs[0m           [31m [0m
[31m [0m   [2m 107 [0m[2m# which were not actually broken.[0m                                             [31m [0m
[31m [0m [31m❱ [0m 108 [1;4mpatch_psparser()[0m                                                              [31m [0m
[31m [0m   [2m 109 [0m                                                                              [31m [0m
[31m [0m   [2m 110 [0m                                                                              [31m [0m
[31m [0m   [2m 111 [0mRE_MULTISPACE_INCLUDING_NEWLINES = re.compile(pattern=[33mr[0m[33m"[0m[33m\[0m[33ms+[0m[33m"[0m, flags=re.DOTALL [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/patches/[0m[1;33mp[0m [31m [0m
[31m [0m [1;33mdfminer.py[0m:[94m73[0m in [92mpatch_psparser[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m70 [0m[2;33m│   [0m[33mboundaries (20231228 and 20240706).[0m                                         [31m [0m
[31m [0m   [2m71 [0m[2;33m│   [0m[33m"""[0m                                                                         [31m [0m
[31m [0m   [2m72 [0m[2m│   [0m[2m# Presuming the bug will be fixed in the next release[0m                       [31m [0m
[31m [0m [31m❱ [0m73 [2m│   [0m[94mif[0m [1;4mpdfminer.__version__[0m <= [33m"[0m[33m20240706[0m[33m"[0m:                                      [31m [0m
[31m [0m   [2m74 [0m[2m│   │   [0mPSBaseParser.seek = seek                                                [31m [0m
[31m [0m   [2m75 [0m[2m│   │   [0mPSBaseParser._parse_keyword = _parse_keyword                            [31m [0m
[31m [0m   [2m76 [0m[2m│   │   [0mPSBaseParser.nexttoken = nexttoken                                      [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0mmodule [32m'pdfminer'[0m has no attribute [32m'__version__'[0m
2025-04-12 01:40:36.987 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m64[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  61 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mprompts[0m[90m [0m[94mimport[0m PromptTemplate                             [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m [31m❱ [0m  64 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96munstructured[0m[1;4;96m.[0m[1;4;96mpartition[0m[1;4;96m.[0m[1;4;96mpdf[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m partition_pdf[0m                          [31m [0m
[31m [0m   [2m  65 [0m[94mimport[0m[90m [0m[4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/partition[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mpdf.py[0m:[94m108[0m in [92m<module>[0m                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 105 [0m[2m# Correct a bug that was introduced by a previous patch to[0m                    [31m [0m
[31m [0m   [2m 106 [0m[2m# pdfminer.six, causing needless and unsuccessful repairing of PDFs[0m           [31m [0m
[31m [0m   [2m 107 [0m[2m# which were not actually broken.[0m                                             [31m [0m
[31m [0m [31m❱ [0m 108 [1;4mpatch_psparser()[0m                                                              [31m [0m
[31m [0m   [2m 109 [0m                                                                              [31m [0m
[31m [0m   [2m 110 [0m                                                                              [31m [0m
[31m [0m   [2m 111 [0mRE_MULTISPACE_INCLUDING_NEWLINES = re.compile(pattern=[33mr[0m[33m"[0m[33m\[0m[33ms+[0m[33m"[0m, flags=re.DOTALL [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/unstructured/patches/[0m[1;33mp[0m [31m [0m
[31m [0m [1;33mdfminer.py[0m:[94m73[0m in [92mpatch_psparser[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m70 [0m[2;33m│   [0m[33mboundaries (20231228 and 20240706).[0m                                         [31m [0m
[31m [0m   [2m71 [0m[2;33m│   [0m[33m"""[0m                                                                         [31m [0m
[31m [0m   [2m72 [0m[2m│   [0m[2m# Presuming the bug will be fixed in the next release[0m                       [31m [0m
[31m [0m [31m❱ [0m73 [2m│   [0m[94mif[0m [1;4mpdfminer.__version__[0m <= [33m"[0m[33m20240706[0m[33m"[0m:                                      [31m [0m
[31m [0m   [2m74 [0m[2m│   │   [0mPSBaseParser.seek = seek                                                [31m [0m
[31m [0m   [2m75 [0m[2m│   │   [0mPSBaseParser._parse_keyword = _parse_keyword                            [31m [0m
[31m [0m   [2m76 [0m[2m│   │   [0mPSBaseParser.nexttoken = nexttoken                                      [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0mmodule [32m'pdfminer'[0m has no attribute [32m'__version__'[0m
2025-04-12 01:41:21.498 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m65[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m   [2m  64 [0m[94mfrom[0m[90m [0m[4;96munstructured[0m[4;96m.[0m[4;96mpartition[0m[4;96m.[0m[4;96mpdf[0m[90m [0m[94mimport[0m partition_pdf                          [31m [0m
[31m [0m [31m❱ [0m  65 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m   [2m  68 [0m[94mfrom[0m[90m [0m[4;96mcollections[0m[90m [0m[94mimport[0m defaultdict                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'fitz'[0m
2025-04-12 01:41:44.175 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m65[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m   [2m  64 [0m[94mfrom[0m[90m [0m[4;96munstructured[0m[4;96m.[0m[4;96mpartition[0m[4;96m.[0m[4;96mpdf[0m[90m [0m[94mimport[0m partition_pdf                          [31m [0m
[31m [0m [31m❱ [0m  65 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m   [2m  68 [0m[94mfrom[0m[90m [0m[4;96mcollections[0m[90m [0m[94mimport[0m defaultdict                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/fitz/[0m[1;33m__init__.py[0m:[94m1[0m in  [31m [0m
[31m [0m [92m<module>[0m                                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [31m❱ [0m 1 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mfrontend[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                          [31m [0m
[31m [0m   [2m 2 [0m[94mimport[0m[90m [0m[4;96mtools[0m                                                                    [31m [0m
[31m [0m   [2m 3 [0m[94mimport[0m[90m [0m[4;96mos[0m[4;96m.[0m[4;96mpath[0m[90m [0m[94mas[0m[90m [0m[4;96mop[0m                                                            [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'frontend'[0m
2025-04-12 01:42:10.149 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m65[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  62 [0m                                                                              [31m [0m
[31m [0m   [2m  63 [0m[2m# Pdf[0m                                                                         [31m [0m
[31m [0m   [2m  64 [0m[94mfrom[0m[90m [0m[4;96munstructured[0m[4;96m.[0m[4;96mpartition[0m[4;96m.[0m[4;96mpdf[0m[90m [0m[94mimport[0m partition_pdf                          [31m [0m
[31m [0m [31m❱ [0m  65 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mfitz[0m                                                                   [31m [0m
[31m [0m   [2m  66 [0m[94mfrom[0m[90m [0m[4;96mPIL[0m[90m [0m[94mimport[0m Image                                                         [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m   [2m  68 [0m[94mfrom[0m[90m [0m[4;96mcollections[0m[90m [0m[94mimport[0m defaultdict                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/fitz/[0m[1;33m__init__.py[0m:[94m1[0m in  [31m [0m
[31m [0m [92m<module>[0m                                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [31m❱ [0m 1 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mfrontend[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                          [31m [0m
[31m [0m   [2m 2 [0m[94mimport[0m[90m [0m[4;96mtools[0m                                                                    [31m [0m
[31m [0m   [2m 3 [0m[94mimport[0m[90m [0m[4;96mos[0m[4;96m.[0m[4;96mpath[0m[90m [0m[94mas[0m[90m [0m[4;96mop[0m                                                            [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/[0m[1;33m__init__.py[0m:[94m1[0m [31m [0m
[31m [0m in [92m<module>[0m                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [31m❱ [0m1 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96m.[0m[1;4;96mevents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m2 [0m[94mfrom[0m[90m [0m[4;96m.[0m[90m [0m[94mimport[0m config                                                             [31m [0m
[31m [0m   [2m3 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mcomponents[0m[90m [0m[94mimport[0m *                                                        [31m [0m
[31m [0m   [2m4 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mdispatcher[0m[90m [0m[94mimport[0m *                                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/events/[0m[1;33m__init[0m [31m [0m
[31m [0m [1;33m__.py[0m:[94m1[0m in [92m<module>[0m                                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [31m❱ [0m1 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96m.[0m[1;4;96mclipboard[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                         [31m [0m
[31m [0m   [2m2 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mevent_mixins[0m[90m [0m[94mimport[0m *                                                      [31m [0m
[31m [0m   [2m3 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mhash_change[0m[90m [0m[94mimport[0m *                                                       [31m [0m
[31m [0m   [2m4 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mui[0m[90m [0m[94mimport[0m *                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/events/[0m[1;33mclipbo[0m [31m [0m
[31m [0m [1;33mard.py[0m:[94m2[0m in [92m<module>[0m                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96mevent_mixins[0m[90m [0m[94mimport[0m ClipboardDataMixin                                     [31m [0m
[31m [0m [31m❱ [0m2 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96m.[0m[1;4;96m.[0m[1;4;96mdom[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m Event[0m                                                          [31m [0m
[31m [0m   [2m3 [0m                                                                                 [31m [0m
[31m [0m   [2m4 [0m__all__ = [[33m'[0m[33mClipboardEvent[0m[33m'[0m]                                                     [31m [0m
[31m [0m   [2m5 [0m                                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/[0m[1;33mdom.py[0m:[94m439[0m in [31m [0m
[31m [0m [92m<module>[0m                                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m436 [0m[2m│   │   │   [0m[94mpass[0m                                                               [31m [0m
[31m [0m   [2m437 [0m                                                                               [31m [0m
[31m [0m   [2m438 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m439 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96m.[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m dispatcher[0m                                                       [31m [0m
[31m [0m   [2m440 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/[0m[1;33mdispatcher.py[0m [31m [0m
[31m [0m :[94m15[0m in [92m<module>[0m                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 12 [0m[94mfrom[0m[90m [0m[4;96mstarlette[0m[4;96m.[0m[4;96mendpoints[0m[90m [0m[94mimport[0m WebSocketEndpoint                              [31m [0m
[31m [0m   [2m 13 [0m[94mfrom[0m[90m [0m[4;96mstarlette[0m[4;96m.[0m[4;96mwebsockets[0m[90m [0m[94mimport[0m WebSocket                                     [31m [0m
[31m [0m   [2m 14 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 15 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96m.[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m config, server[0m                                                   [31m [0m
[31m [0m   [2m 16 [0m[94mfrom[0m[90m [0m[4;96m.[0m[4;96masync_utils[0m[90m [0m[94mimport[0m later_await                                           [31m [0m
[31m [0m   [2m 17 [0m                                                                               [31m [0m
[31m [0m   [2m 18 [0m__all__ = [[33m'[0m[33mreact[0m[33m'[0m]                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/frontend/[0m[1;33mserver.py[0m:[94m24[0m  [31m [0m
[31m [0m in [92m<module>[0m                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 21 [0m__all__ = [[33m'[0m[33mroute[0m[33m'[0m, [33m'[0m[33mrun[0m[33m'[0m]                                                     [31m [0m
[31m [0m   [2m 22 [0m                                                                               [31m [0m
[31m [0m   [2m 23 [0mapp: Any = Starlette(debug=config.DEBUG)                                       [31m [0m
[31m [0m [31m❱ [0m 24 app.mount(config.STATIC_ROUTE, [1;4mStaticFiles(directory=config.STATIC_DIRECTORY)[0m, [31m [0m
[31m [0m   [2m 25 [0mapp.add_middleware(GZipMiddleware)                                             [31m [0m
[31m [0m   [2m 26 [0mapp.add_middleware(                                                            [31m [0m
[31m [0m   [2m 27 [0m[2m│   [0mCORSMiddleware,                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/starlette/[0m[1;33mstaticfiles.[0m [31m [0m
[31m [0m [1;33mpy[0m:[94m56[0m in [92m__init__[0m                                                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 53 [0m[2m│   │   [0m[96mself[0m.config_checked = [94mFalse[0m                                            [31m [0m
[31m [0m   [2m 54 [0m[2m│   │   [0m[96mself[0m.follow_symlink = follow_symlink                                   [31m [0m
[31m [0m   [2m 55 [0m[2m│   │   [0m[94mif[0m check_dir [95mand[0m directory [95mis[0m [95mnot[0m [94mNone[0m [95mand[0m [95mnot[0m os.path.isdir(directory [31m [0m
[31m [0m [31m❱ [0m 56 [2m│   │   │   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mRuntimeError[0m[1;4m([0m[1;4;33mf[0m[1;4;33m"[0m[1;4;33mDirectory [0m[1;4;33m'[0m[1;4;33m{[0m[1;4mdirectory[0m[1;4;33m}[0m[1;4;33m'[0m[1;4;33m does not exist[0m[1;4;33m"[0m[1;4m)[0m      [31m [0m
[31m [0m   [2m 57 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 58 [0m[2m│   [0m[94mdef[0m[90m [0m[92mget_directories[0m(                                                       [31m [0m
[31m [0m   [2m 59 [0m[2m│   │   [0m[96mself[0m,                                                                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mRuntimeError: [0mDirectory [32m'static/'[0m does not exist
2025-04-12 01:42:19.640 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m35[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 32 [0m[2m│   [0msys.path.append(full_path)                                                 [31m [0m
[31m [0m   [2m 33 [0m                                                                               [31m [0m
[31m [0m   [2m 34 [0m[94mfrom[0m[90m [0m[4;96mutility[0m[90m [0m[94mimport[0m *                                                          [31m [0m
[31m [0m [31m❱ [0m 35 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mutils[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                            [31m [0m
[31m [0m   [2m 36 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 37 [0m                                                                               [31m [0m
[31m [0m   [2m 38 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m70[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  67 [0m[94mimport[0m[90m [0m[4;96mio[0m                                                                     [31m [0m
[31m [0m   [2m  68 [0m[94mfrom[0m[90m [0m[4;96mcollections[0m[90m [0m[94mimport[0m defaultdict                                           [31m [0m
[31m [0m   [2m  69 [0m[94mfrom[0m[90m [0m[4;96mconcurrent[0m[4;96m.[0m[4;96mfutures[0m[90m [0m[94mimport[0m ThreadPoolExecutor                             [31m [0m
[31m [0m [31m❱ [0m  70 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mpdfplumber[0m                                                             [31m [0m
[31m [0m   [2m  71 [0m[94mimport[0m[90m [0m[4;96mxml[0m[4;96m.[0m[4;96metree[0m[4;96m.[0m[4;96mElementTree[0m[90m [0m[94mas[0m[90m [0m[4;96mET[0m                                            [31m [0m
[31m [0m   [2m  72 [0m[94mfrom[0m[90m [0m[4;96mxml[0m[4;96m.[0m[4;96mdom[0m[90m [0m[94mimport[0m minidom                                                   [31m [0m
[31m [0m   [2m  73 [0m[94mimport[0m[90m [0m[4;96mmagic[0m                                                                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mModuleNotFoundError: [0mNo module named [32m'pdfplumber'[0m
2025-04-12 01:43:14.686 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-12 01:43:31.348 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m125[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m122 [0m[2m│   [0mst.chat_message([33m"[0m[33muser[0m[33m"[0m).write(prompt)                                      [31m [0m
[31m [0m   [2m123 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m124 [0m[2m│   [0mresponse = basic_chat(prompt, model_id)                                    [31m [0m
[31m [0m [31m❱ [0m125 [2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m126 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m127 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m128 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'dict'[0m object has no attribute [32m'split'[0m
2025-04-12 01:43:47.164 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m126[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m123 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m124 [0m[2m│   [0mresponse = basic_chat(prompt, model_id)                                    [31m [0m
[31m [0m   [2m125 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m [31m❱ [0m126 [2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m127 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m128 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'dict'[0m object has no attribute [32m'split'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-12 01:44:38.346 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-12 01:46:10.230 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m124[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m121 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33muser[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: prompt})      [31m [0m
[31m [0m   [2m122 [0m[2m│   [0mst.chat_message([33m"[0m[33muser[0m[33m"[0m).write(prompt)                                      [31m [0m
[31m [0m   [2m123 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m124 [2m│   [0mresponse = [1;4mbasic_chat(prompt, model_id)[0m                                    [31m [0m
[31m [0m   [2m125 [0m[2m│   [0mst.chat_message(prompt)                                                    [31m [0m
[31m [0m   [2m126 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m127 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/agents/[0m[1;33magents.py[0m:[94m12[0m in [92mbasic_chat[0m            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 9 [0m[2m│   │   [0mmax_retries=[94m5[0m,                                                          [31m [0m
[31m [0m   [2m10 [0m[2m│   [0m)                                                                           [31m [0m
[31m [0m   [2m11 [0m[2m│   [0m                                                                            [31m [0m
[31m [0m [31m❱ [0m12 [2m│   [0m[94mreturn[0m [1;4mllm.invoke(query)[[0m[1;4;33m"[0m[1;4;33mcontent[0m[1;4;33m"[0m[1;4m][0m                                         [31m [0m
[31m [0m   [2m13 [0m                                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mTypeError: [0m[32m'AIMessage'[0m object is not subscriptable
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-12 01:47:55.379 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-12 01:48:48.954 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m126[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m123 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m124 [0m[2m│   [0mresponse = basic_chat(prompt, model_id)                                    [31m [0m
[31m [0m   [2m125 [0m[2m│   [0mst.text([96mstr[0m(response))                                                     [31m [0m
[31m [0m [31m❱ [0m126 [2m│   [0m[2m# response_formatted = f"{response}\n\n ✒︎***Content created by using:*** {[0m [31m [0m
[31m [0m   [2m127 [0m[2m│   [0m[2m# st.session_state.messages.append({"role": "assistant", "content": respon[0m [31m [0m
[31m [0m   [2m128 [0m[2m│   [0m[2m# st.chat_message("ai", avatar='🤵').write(response_formatted)[0m             [31m [0m
[31m [0m   [2m129 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'dict'[0m object has no attribute [32m'split'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/backend/agents.py:5: LangChainDeprecationWarning: As of langchain-core 0.3.0, LangChain uses pydantic v2 internally. The langchain_core.pydantic_v1 module was a compatibility shim for pydantic v1, and should no longer be used. Please update the code to import from Pydantic directly.

For example, replace imports like: `from langchain_core.pydantic_v1 import BaseModel`
with: `from pydantic import BaseModel`
or the v1 compatibility namespace if you are working in a code base that has not been fully upgraded to pydantic 2 yet. 	from pydantic.v1 import BaseModel

  import tools
2025-04-13 17:18:47.843 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 17:48:47.897 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 116
    f upload_file is not None and len(upload_file) > 0:
      ^^^^^^^^^^^
SyntaxError: invalid syntax
2025-04-13 17:48:47.899 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 17:48:51.316 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 17:49:03.808 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 17:49:13.679 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 18:07:49.204 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m133[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m130 [0m[2m│   [0mresponse = math_tool_test(prompt, model_id)                                [31m [0m
[31m [0m   [2m131 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m132 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m [31m❱ [0m133 [2m│   [0mst.chat_mess[1;4mage([0m[1;4;33m"[0m[1;4;33mai[0m[1;4;33m"[0m[1;4m, avatar=[0m[1;4;33m'[0m[1;4;33m🤵[0m[1;4;33m'[0m[1;4m).write(r[0mesponse_formatted)               [31m [0m
[31m [0m   [2m134 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mTypeError: [0ma bytes-like object is required, not [32m'_io.BytesIO'[0m
2025-04-13 18:09:14.447 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m133[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m130 [0m[2m│   │   [0m[94melif[0m upload_file_extension [95min[0m [[33m"[0m[33m.jpg[0m[33m"[0m, [33m"[0m[33m.png[0m[33m"[0m, [33m"[0m[33m.webp[0m[33m"[0m]:               [31m [0m
[31m [0m   [2m131 [0m[2m│   │   │   [0mimage_bytes = io.BytesIO(upload_file[[94m0[0m].read())                    [31m [0m
[31m [0m   [2m132 [0m[2m│   │   │   [0m[94mwith[0m [96mopen[0m(input_image_file, [33m'[0m[33mwb[0m[33m'[0m) [94mas[0m image_file:                   [31m [0m
[31m [0m [31m❱ [0m133 [2m│   │   │   │   [0m[1;4mimage_file.write(image_bytes)[0m                                  [31m [0m
[31m [0m   [2m134 [0m[2m│   │   │   [0mst.image(image_bytes)                                              [31m [0m
[31m [0m   [2m135 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m136 [0m[2m│   │   [0m[94melif[0m upload_file_extension [95min[0m [[33m"[0m[33m.mp4[0m[33m"[0m, [33m"[0m[33m.mov[0m[33m"[0m]:                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mTypeError: [0ma bytes-like object is required, not [32m'_io.BytesIO'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 18:24:10.625 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m184[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m181 [0m[2m│   │   │   │   [0mst.write([33m"[0m[33mFile upload failed.[0m[33m"[0m)                                [31m [0m
[31m [0m   [2m182 [0m                                                                               [31m [0m
[31m [0m   [2m183 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m184 [2m# ---------------------------[0m[1;2;4m---------------------------------------------[0m[2m----[0m [31m [0m
[31m [0m   [2m185 [0m[2m# GUI ------------------------------------------------------------------------[0m [31m [0m
[31m [0m   [2m186 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m   [2m187 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m184[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m181 [0m[2m│   │   │   │   │   │   [0mrag_data += xml_text                                   [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   │   [0m[2m#tables += table[0m                                       [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[94melse[0m:                                                      [31m [0m
[31m [0m [31m❱ [0m184 [2m│   │   │   │   │   │   [0m[94mw[0m[1;4;94mith[0m[1;4m [0m[1;4;96mopen[0m[1;4m(os.path.join(file_path, file_name), [0m[33m'[0m[33mr[0m[33m'[0m) [94mas[0m  [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   │   │   [0mfile_content = file.read()                         [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mrag_data += file_content                               [31m [0m
[31m [0m   [2m187 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
2025-04-13 18:25:15.475 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 160
    st.write(os.path.isfile(full_filename)
            ^
SyntaxError: '(' was never closed
2025-04-13 18:25:15.476 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m185[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(os.path.join(file_path, file_name), [33m'[0m[33mr[0m[33m'[0m) [94mas[0m file [31m [0m
[31m [0m [31m❱ [0m185 [2m│   │   │   │   │   │   [0mf[1;4mile_content = file.read()[0m                             [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   [0mrag_data += file_content                                   [31m [0m
[31m [0m   [2m187 [0m                                                                               [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m185[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   [0mrag_data += xml_text                                       [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m [31m❱ [0m185 [2m│   │   │   │   │   [0m[94mwith[0m [1;4;96mopen[0m[1;4m(os.path.join(file_path, file_name), [0m[1;4;33m'[0m[1;4;33mr[0m[1;4;33m'[0m[1;4m)[0m [94mas[0m file [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   │   │   [0mrag_data += file_content                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m185[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   [0mrag_data += xml_text                                       [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m [31m❱ [0m185 [2m│   │   │   │   │   [0m[94mwith[0m [1;4;96mopen[0m[1;4m(os.path.join(file_path, file_name), [0m[1;4;33m'[0m[1;4;33mr[0m[1;4;33m'[0m[1;4m)[0m [94mas[0m file [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   │   │   [0mrag_data += file_content                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
2025-04-13 18:28:00.856 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m185[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   [0mrag_data += xml_text                                       [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m [31m❱ [0m185 [2m│   │   │   │   │   [0m[94mwith[0m [1;4;96mopen[0m[1;4m(os.path.join(file_path, file_name), [0m[1;4;33m'[0m[1;4;33mr[0m[1;4;33m'[0m[1;4m)[0m [94mas[0m file [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   │   │   [0mrag_data += file_content                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaid/Malt Shop Day Paper.pdf'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m186[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mr[0m[33m'[0m) [94mas[0m file:                     [31m [0m
[31m [0m [31m❱ [0m186 [2m│   │   │   │   │   │   [0mfile_content = [1;4mfile.read()[0m                             [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   │   │   [0mrag_data += file_content                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m in [92mdecode[0m:[94m322[0m                                                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mr[0m[33m'[0m) [94mas[0m file:                     [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0m[1;4mrag_data += file_content[0m                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mTypeError: [0mcan only concatenate str [1m([0mnot [32m"bytes"[0m[1m)[0m to str
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0mrag_data += [1;4mfile_content[0m                                   [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0mrag_data += [1;4mfile_content.decode()[0m                          [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0mrag_data += [1;4mfile_content.decode()[0m                          [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
2025-04-13 18:30:35.659 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0mrag_data += [1;4mfile_content.decode()[0m                          [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m157[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m154 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m155 [0m[2m│   │   │   [0m[94mfor[0m upload_doc [95min[0m upload_file:                                     [31m [0m
[31m [0m   [2m156 [0m[2m│   │   │   │   [0mdoc_bytes = upload_doc.getvalue()                              [31m [0m
[31m [0m [31m❱ [0m157 [2m│   │   │   │   [0mfile_names.append(uploa[1;4md_doc.name)[0m                             [31m [0m
[31m [0m   [2m158 [0m[2m│   │   │   │   [0mfull_filename = os.path.join(document_file_path, upload_doc.na [31m [0m
[31m [0m   [2m159 [0m[2m│   │   │   │   [0mst.write(full_filename)                                        [31m [0m
[31m [0m   [2m160 [0m[2m│   │   │   │   [0mst.write(doc_bytes)                                            [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xd3[0m in position [1;36m10[0m: invalid 
continuation byte
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m157[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m154 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m155 [0m[2m│   │   │   [0m[94mfor[0m upload_doc [95min[0m upload_file:                                     [31m [0m
[31m [0m   [2m156 [0m[2m│   │   │   │   [0mdoc_bytes = upload_doc.getvalue()                              [31m [0m
[31m [0m [31m❱ [0m157 [2m│   │   │   │   [0mdoc_data = io.StringIO([1;4mdoc_bytes.decode([0m[1;4;33m"[0m[1;4;33mutf-8[0m[1;4;33m"[0m[1;4m)[0m)              [31m [0m
[31m [0m   [2m158 [0m[2m│   │   │   │   [0mfile_names.append(upload_doc.name)                             [31m [0m
[31m [0m   [2m159 [0m[2m│   │   │   │   [0mfull_filename = os.path.join(document_file_path, upload_doc.na [31m [0m
[31m [0m   [2m160 [0m[2m│   │   │   │   [0mst.write(full_filename)                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xfe[0m in position [1;36m381[0m: invalid start 
byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m157[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m154 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m155 [0m[2m│   │   │   [0m[94mfor[0m upload_doc [95min[0m upload_file:                                     [31m [0m
[31m [0m   [2m156 [0m[2m│   │   │   │   [0mdoc_bytes = upload_doc.getvalue()                              [31m [0m
[31m [0m [31m❱ [0m157 [2m│   │   │   │   [0mdoc_data = [1;4mio.StringIO(doc_bytes.[0mdecode([33m"[0m[33mutf-8[0m[33m"[0m))              [31m [0m
[31m [0m   [2m158 [0m[2m│   │   │   │   [0mfile_names.append(upload_doc.name)                             [31m [0m
[31m [0m   [2m159 [0m[2m│   │   │   │   [0mfull_filename = os.path.join(document_file_path, upload_doc.na [31m [0m
[31m [0m   [2m160 [0m[2m│   │   │   │   [0mst.write(full_filename)                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mTypeError: [0minitial_value must be str or [3;35mNone[0m, not bytes
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   │   [0mfile_con[1;4mtent = file.read()[0m                             [31m [0m
[31m [0m   [2m188 [0m[2m│   │   │   │   │   [0mrag_data += file_content.decode()                          [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xfe[0m in position [1;36m381[0m: invalid start 
byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m186[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mrb[0m[33m'[0m) [94mas[0m file:                    [31m [0m
[31m [0m [31m❱ [0m186 [2m│   │   │   │   │   │   [0mfile_content = [1;4mfile.read()[0m                             [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   │   │   [0mrag_data += file_content.decode()                          [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m in [92mdecode[0m:[94m322[0m                                                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xfe[0m in position [1;36m381[0m: invalid start 
byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m187[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   │   │   [0m[94mwith[0m [96mopen[0m(full_filename, [33m'[0m[33mr[0m[33m'[0m) [94mas[0m file:                     [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   │   │   │   [0mfile_content = file.read()                             [31m [0m
[31m [0m [31m❱ [0m187 [2m│   │   │   │   │   [0mrag_data += [1;4mfile_content.decode()[0m                          [31m [0m
[31m [0m   [2m188 [0m                                                                               [31m [0m
[31m [0m   [2m189 [0m                                                                               [31m [0m
[31m [0m   [2m190 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnicodeDecodeError: [0m[32m'utf-8'[0m codec can't decode byte [1;36m0xfe[0m in position [1;36m381[0m: invalid start 
byte
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m181[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m178 [0m[2m│   │   │   [0m[94mfor[0m file_name [95min[0m file_names:                                       [31m [0m
[31m [0m   [2m179 [0m[2m│   │   │   │   [0m[94mif[0m is_pdf(os.path.join(file_path, file_name)):                 [31m [0m
[31m [0m   [2m180 [0m[2m│   │   │   │   │   [0mtexts, tables = parser_pdf(file_path, file_name)           [31m [0m
[31m [0m [31m❱ [0m181 [2m│   │   │   │   │   [0mxml_text = [1;4mparse_pdf_to_xml(file_path + file_name)[0m         [31m [0m
[31m [0m   [2m182 [0m[2m│   │   │   │   │   [0mrag_data += xml_text                                       [31m [0m
[31m [0m   [2m183 [0m[2m│   │   │   │   │   [0m[2m#tables += table[0m                                           [31m [0m
[31m [0m   [2m184 [0m[2m│   │   │   │   [0m[94melse[0m:                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1225[0m in [92mparse_pdf_to_xml[0m    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1222 [0m[2m│   [0m[2m# Create the root element[0m                                                 [31m [0m
[31m [0m   [2m1223 [0m[2m│   [0mroot = ET.Element([33m"[0m[33mdocument[0m[33m"[0m)                                             [31m [0m
[31m [0m   [2m1224 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m [31m❱ [0m1225 [2m│   [0m[94mwith[0m [1;4mpdfplumber.open(pdf_path)[0m [94mas[0m pdf:                                    [31m [0m
[31m [0m   [2m1226 [0m[2m│   │   [0m[94mfor[0m page_num, page [95min[0m [96menumerate[0m(pdf.pages):                           [31m [0m
[31m [0m   [2m1227 [0m[2m│   │   │   [0m[2m# Create a page element[0m                                           [31m [0m
[31m [0m   [2m1228 [0m[2m│   │   │   [0mpage_elem = ET.SubElement(root, [33m"[0m[33mpage[0m[33m"[0m, number=[96mstr[0m(page_num + [94m1[0m)) [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/pdfplumber/[0m[1;33mpdf.py[0m:[94m98[0m   [31m [0m
[31m [0m in [92mopen[0m                                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 95 [0m[2m│   │   │   [0m[2m# the repaired version does not[0m                                    [31m [0m
[31m [0m   [2m 96 [0m[2m│   │   │   [0mpath = [94mNone[0m                                                        [31m [0m
[31m [0m   [2m 97 [0m[2m│   │   [0m[94melif[0m [96misinstance[0m(path_or_fp, ([96mstr[0m, pathlib.Path)):                      [31m [0m
[31m [0m [31m❱ [0m 98 [2m│   │   │   [0mstream = [1;4;96mopen[0m[1;4m(path_or_fp, [0m[1;4;33m"[0m[1;4;33mrb[0m[1;4;33m"[0m[1;4m)[0m                                    [31m [0m
[31m [0m   [2m 99 [0m[2m│   │   │   [0mstream_is_external = [94mFalse[0m                                         [31m [0m
[31m [0m   [2m100 [0m[2m│   │   │   [0mpath = pathlib.Path(path_or_fp)                                    [31m [0m
[31m [0m   [2m101 [0m[2m│   │   [0m[94melse[0m:                                                                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mFileNotFoundError: [0m[1m[[0mErrno [1;36m2[0m[1m][0m No such file or directory: 
[32m'/home/aaron/src/first-aid/demo/firstaidBOTB Reimbursement.pdf'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 18:47:42.264 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 127
    for i in range(len(upload_file):
                                   ^
SyntaxError: invalid syntax
2025-04-13 18:47:42.265 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:48:06.390 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 128
    for i in range(len(upload_file):
                                   ^
SyntaxError: invalid syntax
2025-04-13 18:48:06.391 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:48:17.457 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 128
    for i in range(len(upload_file):
                                   ^
SyntaxError: invalid syntax
2025-04-13 18:48:17.458 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:49:49.728 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 130
    for i in range(len(upload_file):
                                   ^
SyntaxError: invalid syntax
2025-04-13 18:49:49.728 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:50:01.766 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 156
    elif upload_file_extension in [".jpg", ".png", ".webp"]:
    ^^^^
SyntaxError: invalid syntax
2025-04-13 18:50:01.768 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:50:47.092 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 175
    elif upload_file_extension in [".pdf", ".doc", ".csv", ".json", ".txt", ".xml"]:
    ^^^^
SyntaxError: invalid syntax
2025-04-13 18:50:47.093 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
2025-04-13 18:52:48.009 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 177
    elif upload_file_extension in [".pdf", ".doc", ".csv", ".json", ".txt", ".xml"]:
    ^^^^
SyntaxError: invalid syntax
2025-04-13 18:52:48.010 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m158[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m155 [0m[2m│   │   │   [0m[94mfor[0m upload_doc [95min[0m upload_file:                                     [31m [0m
[31m [0m   [2m156 [0m[2m│   │   │   │   [0mdoc_bytes = upload_doc.getvalue()                              [31m [0m
[31m [0m   [2m157 [0m[2m│   │   │   │   [0mfile_names.append(upload_doc.name)                             [31m [0m
[31m [0m [31m❱ [0m158 [2m│   │   │   │   [0m[1;4mfull_filename = os.pa[0mth.join(document_file_path, upload_doc.na [31m [0m
[31m [0m   [2m159 [0m[2m│   │   │   │   [0mst.write(full_filename)                                        [31m [0m
[31m [0m   [2m160 [0m[2m│   │   │   │   [0mst.write(doc_bytes)                                            [31m [0m
[31m [0m   [2m161 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mIndexError: [0mlist index out of range
2025-04-13 18:54:08.806 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m158[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m155 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m156 [0m[2m│   [0m[2m# Image upload[0m                                                             [31m [0m
[31m [0m   [2m157 [0m[2m│   [0m[94mfor[0m i [95min[0m [96mrange[0m([96mlen[0m(image_file_indexes)):                                   [31m [0m
[31m [0m [31m❱ [0m158 [2m│   │   [0mindex = [1;4mvideo_file_indexes[i][0m                                          [31m [0m
[31m [0m   [2m159 [0m[2m│   │   [0mimage_bytes = upload_file[index].read()                                [31m [0m
[31m [0m   [2m160 [0m[2m│   │   [0mst.image(io.BytesIO(image_bytes))                                      [31m [0m
[31m [0m   [2m161 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mIndexError: [0mlist index out of range
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 18:58:37.509 Script compilation error
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py", line 549, in _run_script
    code = self._script_cache.get_bytecode(script_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_cache.py", line 72, in get_bytecode
    filebody = magic.add_magic(filebody, script_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/magic.py", line 46, in add_magic
    tree = ast.parse(code, script_path, "exec")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/ast.py", line 52, in parse
    return compile(source, filename, mode, flags,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/src/first-aid/demo/firstaid/home.py", line 225
    start_time = time.time()
IndentationError: expected an indented block after 'if' statement on line 216
2025-04-13 18:58:37.510 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m163[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m160 [0m[2m│   │   [0mst.image(io.BytesIO(image_bytes))                                      [31m [0m
[31m [0m   [2m161 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m162 [0m[2m│   │   [0minput_file = os.path.join(input_file_path, input_image_file + upload_f [31m [0m
[31m [0m [31m❱ [0m163 [2m│   │   [0m[94mwith[0m[1;4m [0m[1;4;96mopen[0m[1;4m(input_file, [0m[1;4;33m'[0m[1;4;33mwb[0m[1;4;33m'[0m[1;4m) [0m[1;4;94mas[0m[1;4m image_[0mfile:                             [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0mimage_file.write(image_bytes)                                      [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[2m# Video upload[0m                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mima[0m [31m [0m
[31m [0m [1;33mge.py[0m:[94m181[0m in [92mimage[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m442[0m in [92mmarshall_images[0m                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m333[0m in [92mimage_to_url[0m                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m112[0m in [92m_validate_image_format_string[0m                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/PIL/[0m[1;33mImage.py[0m:[94m3532[0m in   [31m [0m
[31m [0m [92mopen[0m                                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m3529 [0m[2m│   [0m[94mfor[0m message [95min[0m warning_messages:                                          [31m [0m
[31m [0m   [2m3530 [0m[2m│   │   [0mwarnings.warn(message)                                                [31m [0m
[31m [0m   [2m3531 [0m[2m│   [0mmsg = [33m"[0m[33mcannot identify image file [0m[33m%r[0m[33m"[0m % (filename [94mif[0m filename [94melse[0m fp)    [31m [0m
[31m [0m [31m❱ [0m3532 [2m│   [0m[1;4;94mraise[0m[1;4m UnidentifiedImageError(msg)[0m                                         [31m [0m
[31m [0m   [2m3533 [0m                                                                              [31m [0m
[31m [0m   [2m3534 [0m                                                                              [31m [0m
[31m [0m   [2m3535 [0m[2m#[0m                                                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnidentifiedImageError: [0mcannot identify image file [1m<[0m[1;95m_io.BytesIO[0m[39m object at [0m
[1;36m0x7f262774d940[0m[1m>[0m
2025-04-13 19:03:27.907 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m164[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m161 [0m[2m│   │   │   [0mindex = image_file_indexes[i]                                      [31m [0m
[31m [0m   [2m162 [0m[2m│   │   │   [0mimage_bytes = upload_file[index].read()                            [31m [0m
[31m [0m   [2m163 [0m[2m│   │   │   [0mst.image(io.BytesIO(image_bytes))                                  [31m [0m
[31m [0m [31m❱ [0m164 [2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m165 [0m[2m│   │   │   [0minput_file = os.path.join(input_file_path, input_image_file + [33mf[0m[33m"[0m[33m_[0m[33m{[0m [31m [0m
[31m [0m   [2m166 [0m[2m│   │   │   [0m[94mwith[0m [96mopen[0m(input_file, [33m'[0m[33mwb[0m[33m'[0m) [94mas[0m image_file:                         [31m [0m
[31m [0m   [2m167 [0m[2m│   │   │   │   [0mimage_file.write(image_bytes)                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mima[0m [31m [0m
[31m [0m [1;33mge.py[0m:[94m181[0m in [92mimage[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m442[0m in [92mmarshall_images[0m                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m333[0m in [92mimage_to_url[0m                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m112[0m in [92m_validate_image_format_string[0m                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/PIL/[0m[1;33mImage.py[0m:[94m3532[0m in   [31m [0m
[31m [0m [92mopen[0m                                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m3529 [0m[2m│   [0m[94mfor[0m message [95min[0m warning_messages:                                          [31m [0m
[31m [0m   [2m3530 [0m[2m│   │   [0mwarnings.warn(message)                                                [31m [0m
[31m [0m   [2m3531 [0m[2m│   [0mmsg = [33m"[0m[33mcannot identify image file [0m[33m%r[0m[33m"[0m % (filename [94mif[0m filename [94melse[0m fp)    [31m [0m
[31m [0m [31m❱ [0m3532 [2m│   [0m[1;4;94mraise[0m[1;4m UnidentifiedImageError(msg)[0m                                         [31m [0m
[31m [0m   [2m3533 [0m                                                                              [31m [0m
[31m [0m   [2m3534 [0m                                                                              [31m [0m
[31m [0m   [2m3535 [0m[2m#[0m                                                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnidentifiedImageError: [0mcannot identify image file [1m<[0m[1;95m_io.BytesIO[0m[39m object at [0m
[1;36m0x7f262774e250[0m[1m>[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m167[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0mst.image(io.BytesIO(image_bytes))                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m166 [0m[2m│   │   │   [0minput_file = os.path.join(input_file_path, input_image_file + [33mf[0m[33m"[0m[33m_[0m[33m{[0m [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   │   [0m[1;4;94mwith[0m[1;4m [0m[1;4;96mopen[0m[1;4m(input_file, [0m[1;4;33m'[0m[1;4;33mwb[0m[1;4;33m'[0m[1;4m) [0m[1;4;94mas[0m[1;4m im[0mage_file:                         [31m [0m
[31m [0m   [2m168 [0m[2m│   │   │   │   [0mimage_file.write(image_bytes)                                  [31m [0m
[31m [0m   [2m169 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0m[2m# Video upload[0m                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mima[0m [31m [0m
[31m [0m [1;33mge.py[0m:[94m181[0m in [92mimage[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m442[0m in [92mmarshall_images[0m                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m333[0m in [92mimage_to_url[0m                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/lib[0m [31m [0m
[31m [0m [2;33m/[0m[1;33mimage_utils.py[0m:[94m112[0m in [92m_validate_image_format_string[0m                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/PIL/[0m[1;33mImage.py[0m:[94m3532[0m in   [31m [0m
[31m [0m [92mopen[0m                                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m3529 [0m[2m│   [0m[94mfor[0m message [95min[0m warning_messages:                                          [31m [0m
[31m [0m   [2m3530 [0m[2m│   │   [0mwarnings.warn(message)                                                [31m [0m
[31m [0m   [2m3531 [0m[2m│   [0mmsg = [33m"[0m[33mcannot identify image file [0m[33m%r[0m[33m"[0m % (filename [94mif[0m filename [94melse[0m fp)    [31m [0m
[31m [0m [31m❱ [0m3532 [2m│   [0m[1;4;94mraise[0m[1;4m UnidentifiedImageError(msg)[0m                                         [31m [0m
[31m [0m   [2m3533 [0m                                                                              [31m [0m
[31m [0m   [2m3534 [0m                                                                              [31m [0m
[31m [0m   [2m3535 [0m[2m#[0m                                                                             [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mUnidentifiedImageError: [0mcannot identify image file [1m<[0m[1;95m_io.BytesIO[0m[39m object at [0m
[1;36m0x7f24263ca430[0m[1m>[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m188[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m185 [0m[2m│   │   │   [0mdocument = upload_file[index]                                      [31m [0m
[31m [0m   [2m186 [0m[2m│   │   │   [0mdoc_bytes = document.getvalue()                                    [31m [0m
[31m [0m   [2m187 [0m[2m│   │   │   [0mdocument_file_names.append(document.name)                          [31m [0m
[31m [0m [31m❱ [0m188 [2m│   │   │   [0mfull_file_name = os.path.join([1;4mdocument_file_path[0m, document.name)   [31m [0m
[31m [0m   [2m189 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m190 [0m[2m│   │   │   [0m[94mif[0m [95mnot[0m os.path.exists(full_file_name):                             [31m [0m
[31m [0m   [2m191 [0m[2m│   │   │   │   [0m[94mwith[0m [96mopen[0m(full_file_name, [33m'[0m[33mwb[0m[33m'[0m) [94mas[0m f:                          [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'document_file_path'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
CropBox missing from /Page, defaulting to MediaBox
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0m                                                                               [31m [0m
[31m [0m   [2m 41 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 42 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 43                                                                                [31m [0m
[31m [0m   [2m 44 [0m                                                                               [31m [0m
[31m [0m   [2m 45 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m   [2m 46 [0m[2m# Webpage Setup --------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m67[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m64 [0m[2m│   [0mresponse = llm_with_tools.invoke(query)                                     [31m [0m
[31m [0m   [2m65 [0m[2m│   [0m[94mreturn[0m response.tool_calls                                                  [31m [0m
[31m [0m   [2m66 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m67 [2m# https://drive.google.com/d[0m[1;2;4mrive/u/1/fold[0m[2mers/16WqXYosHP6vchAYOxHssE_-09p84sen0[0m  [31m [0m
[31m [0m   [2m68 [0m[94mdef[0m[90m [0m[92minvoke_model[0m(state: MultiAgentState):                                       [31m [0m
[31m [0m   [2m69 [0m[2m│   [0m[94mpass[0m                                                                        [31m [0m
[31m [0m   [2m70 [0m                                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'MessagesState'[0m is not defined
2025-04-13 19:26:58.709 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m                                                                               [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m68[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 65 [0m[2m│   [0m[94mreturn[0m response.tool_calls                                                 [31m [0m
[31m [0m   [2m 66 [0m                                                                               [31m [0m
[31m [0m   [2m 67 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m 68 [2m│   [0m[94masync[0m [94mwith[0m stdio_client(google_maps_server[1;4m_params[0m) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m 69 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m 70 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m 71 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'Command'[0m is not defined
2025-04-13 19:30:34.918 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m                                                                               [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m69[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 66 [0m[2m│   [0m[94mreturn[0m response.tool_calls                                                 [31m [0m
[31m [0m   [2m 67 [0m                                                                               [31m [0m
[31m [0m   [2m 68 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m 69 [2m│   [0m[94masync[0m [94mwith[0m stdio_client(google_maps_server_params)[1;4m [0m[1;4;94mas[0m[1;4m (re[0mad, write):       [31m [0m
[31m [0m   [2m 70 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m 71 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m 72 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'Literal'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m                                                                               [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m69[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 66 [0m[2m│   [0mresponse = llm_with_tools.invoke(query)                                    [31m [0m
[31m [0m   [2m 67 [0m[2m│   [0m[94mreturn[0m response.tool_calls                                                 [31m [0m
[31m [0m   [2m 68 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 69 [94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, [1;4mE[0m [31m [0m
[31m [0m   [2m 70 [0m[2m│   [0m[94masync[0m [94mwith[0m stdio_client(google_maps_server_params) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m 71 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m 72 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'END'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 19:31:23.038 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 19:31:40.132 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 19:35:05.785 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m239 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m240 [0m[2m│   [0mresponse = math_tool_test(prompt, model_id)                                [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0mresponse_[1;4mforma[0mtted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m243 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m244 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'graph'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0mevents = graph.astream[1;4m([0m                                                    [31m [0m
[31m [0m   [2m242 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m{[33m"[0m[33mrecursion_limit[0m[33m"[0m: [94m15[0m},                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m22[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m19 [0m[2m│   │   [0m[96mself[0m.orch.set_entry_point([33m"[0m[33mcache_access[0m[33m"[0m)                               [31m [0m
[31m [0m   [2m20 [0m[2m│   │   [0m[96mself[0m.orch.add_conditional_edges(                                        [31m [0m
[31m [0m   [2m21 [0m[2m│   │   │   [0m[33m"[0m[33mcache_access[0m[33m"[0m,                                                     [31m [0m
[31m [0m [31m❱ [0m22 [2m│   │   │   [0m[1;4mvalid_cached_response[0m,                                              [31m [0m
[31m [0m   [2m23 [0m[2m│   │   │   [0m{                                                                   [31m [0m
[31m [0m   [2m24 [0m[2m│   │   │   │   [0m[33m'[0m[33mGOOD[0m[33m'[0m: END,                                                    [31m [0m
[31m [0m   [2m25 [0m[2m│   │   │   │   [0m[33m'[0m[33mBAD[0m[33m'[0m: [33m'[0m[33minvoke_model[0m[33m'[0m                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'valid_cached_response'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mOrchestration().orch.co[0mmpile(checkpointer=memory)    [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m43[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m40 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m   [2m41 [0m[2m│   │   [0mworkflow = StateGraph(MessagesState)                                    [31m [0m
[31m [0m   [2m42 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m [31m❱ [0m43 [2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, [1;4mmcp_nodes[0m, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m   [2m44 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'mcp_nodes'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 19:37:08.899 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m44[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m41 [0m[2m│   │   [0mworkflow = StateGraph(MessagesState)                                    [31m [0m
[31m [0m   [2m42 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m   [2m43 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, mcp_nodes, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m [31m❱ [0m44 [2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_cl[0m[1;4;33mient[0m[1;4;33m"[0m[1;4m, pe[0mrplexity_node)                 [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m [0m   [2m47 [0m                                                                                [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'mcp_nodes'[0m is not defined
2025-04-13 19:37:43.686 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m44[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m41 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m   [2m42 [0m[2m│   │   [0mworkflow = StateGraph(MessagesState)                                    [31m [0m
[31m [0m   [2m43 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m [31m❱ [0m44 [2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, [1;4mmcp_nodes[0m, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m47 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'mcp_nodes'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m44[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m41 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m   [2m42 [0m[2m│   │   [0mworkflow = StateGraph(MessagesState)                                    [31m [0m
[31m [0m   [2m43 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m [31m❱ [0m44 [2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, [1;4mmcp_nodes[0m, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m47 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'mcp_nodes'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                               [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'mcp_nodes'[0m from [32m'mcp'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/[0m[95m__init__.py[0m[1m)[0m
2025-04-13 19:38:47.572 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m mcp_nodes[0m                                                       [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mImportError: [0mcannot import name [32m'mcp_nodes'[0m from [32m'mcp'[0m 
[1m([0m[35m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/[0m[95m__init__.py[0m[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m mcp_node[0ms                                                       [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mmcp_server.py[0m:[94m5[0m in [92m<module>[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96mlangchain_core[0m[4;96m.[0m[4;96mmessages[0m[90m [0m[94mimport[0m SystemMessage, HumanMessage                 [31m [0m
[31m [0m   [2m 3 [0m                                                                                [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m 5 [94masync[0m [94mdef[0m[90m [0m[92mmcp_nodes[0m(state: [1;4mMessagesState[0m) -> Command[Literal[END]]:             [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mIn mcp_nodes: [0m[33m{[0mstate[33m}[0m[33m\n[0m[33m=======[0m[33m\n[0m[33m"[0m)                                  [31m [0m
[31m [0m   [2m 7 [0m[2m│   [0m[94masync[0m [94mwith[0m MultiServerMCPClient(                                            [31m [0m
[31m [0m   [2m 8 [0m[2m│   │   [0m{                                                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'MessagesState'[0m is not defined
2025-04-13 19:40:36.634 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp_server[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                        [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mmcp_server.py[0m:[94m6[0m in [92m<module>[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 3 [0m                                                                                [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94masync[0m [94mdef[0m[90m [0m[92mmcp_nodes[0m(state: MessagesState) -> Command[Literal[END]]:             [31m [0m
[31m [0m [31m❱ [0m 6 [2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mIn mcp_nodes: [0m[33m{[0mstate[33m}[0m[33m\n[0m[33m=======[0m[33m\n[0m[33m"[0m[1;4m)[0m                                  [31m [0m
[31m [0m   [2m 7 [0m[2m│   [0m[94masync[0m [94mwith[0m MultiServerMCPClient(                                            [31m [0m
[31m [0m   [2m 8 [0m[2m│   │   [0m{                                                                       [31m [0m
[31m [0m   [2m 9 [0m[2m│   │   │   [0m[33m"[0m[33mmath[0m[33m"[0m: {                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'Command'[0m is not defined
2025-04-13 19:40:54.513 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp_server[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                        [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mmcp_server.py[0m:[94m7[0m in [92m<module>[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m                                                                                [31m [0m
[31m [0m   [2m 6 [0m[94masync[0m [94mdef[0m[90m [0m[92mmcp_nodes[0m(state: MessagesState) -> Command[Literal[END]]:             [31m [0m
[31m [0m [31m❱ [0m 7 [2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mIn mcp_nodes: [0m[33m{[0mstate[33m}[0m[33m\n[0m[33m=======[0m[33m\n[0m[33m"[0m)                                  [31m [0m
[31m [0m   [2m 8 [0m[2m│   [0m[94masync[0m [94mwith[0m MultiServerMCPClient(                                            [31m [0m
[31m [0m   [2m 9 [0m[2m│   │   [0m{                                                                       [31m [0m
[31m [0m   [2m10 [0m[2m│   │   │   [0m[33m"[0m[33mmath[0m[33m"[0m: {                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'Literal'[0m is not defined
2025-04-13 19:41:07.549 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m45[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m   [2m 43 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 45 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96morchestration[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m   [2m 48 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m3[0m in [92m<module>[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 1 [0m[94mfrom[0m[90m [0m[4;96mlanggraph[0m[4;96m.[0m[4;96mgraph[0m[90m [0m[94mimport[0m StateGraph, MessagesState, END                      [31m [0m
[31m [0m   [2m 2 [0m[94mfrom[0m[90m [0m[4;96magents[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m [31m❱ [0m 3 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96mmcp_server[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                        [31m [0m
[31m [0m   [2m 4 [0m                                                                                [31m [0m
[31m [0m   [2m 5 [0m[94mclass[0m[90m [0m[4;92mOrchestration[0m():                                                          [31m [0m
[31m [0m   [2m 6 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mmcp_server.py[0m:[94m8[0m in [92m<module>[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 5 [0m                                                                                [31m [0m
[31m [0m   [2m 6 [0m                                                                                [31m [0m
[31m [0m   [2m 7 [0m[94masync[0m [94mdef[0m[90m [0m[92mmcp_nodes[0m(state: MessagesState) -> Command[Literal[END]]:             [31m [0m
[31m [0m [31m❱ [0m 8 [2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mIn mcp_nodes: [0m[33m{[0mstate[33m}[0m[33m\n[0m[33m=======[0m[33m\n[0m[33m"[0m)                                  [31m [0m
[31m [0m   [2m 9 [0m[2m│   [0m[94masync[0m [94mwith[0m MultiServerMCPClient(                                            [31m [0m
[31m [0m   [2m10 [0m[2m│   │   [0m{                                                                       [31m [0m
[31m [0m   [2m11 [0m[2m│   │   │   [0m[33m"[0m[33mmath[0m[33m"[0m: {                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'END'[0m is not defined
2025-04-13 19:41:18.197 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 19:41:23.477 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m44[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m41 [0m[2m│   [0m[94mdef[0m[90m [0m[92m__init__[0m([96mself[0m):                                                         [31m [0m
[31m [0m   [2m42 [0m[2m│   │   [0mworkflow = StateGraph(MessagesState)                                    [31m [0m
[31m [0m   [2m43 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m [31m❱ [0m44 [2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, mcp_nodes, retry=[1;4mRetryPolicy[0m(max_attemp [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m47 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'RetryPolicy'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m46[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m43 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m   [2m44 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, mcp_nodes, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m [31m❱ [0m46 [2m│   │   [0mworkflow.add_edge(START, [33m"[0m[33mrewrite_clien[0m[1;4;33mt[0m[1;4;33m"[0m[1;4m)[0m                              [31m [0m
[31m [0m   [2m47 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m [0m   [2m48 [0m[2m│   │   [0m                                                                        [31m [0m
[31m [0m   [2m49 [0m[2m│   │   [0msub2_workflow = StateGraph(MessagesState)                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'perplexity_node'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration()[0m.orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m47[0m in [92m__init__[0m      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m44 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mrewrite_client[0m[33m"[0m, rewrite_node)                       [31m [0m
[31m [0m   [2m45 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mmcp_client[0m[33m"[0m, mcp_nodes, retry=RetryPolicy(max_attemp [31m [0m
[31m [0m   [2m46 [0m[2m│   │   [0mworkflow.add_node([33m"[0m[33mperplexity_client[0m[33m"[0m, perplexity_node)                 [31m [0m
[31m [0m [31m❱ [0m47 [2m│   │   [0mworkflow.add_edge([1;4mSTART[0m, [33m"[0m[33mrewrite_client[0m[33m"[0m)                              [31m [0m
[31m [0m   [2m48 [0m[2m│   │   [0mworkflow.add_conditional_edges([33m"[0m[33mrewrite_client[0m[33m"[0m, router_dispatcher)     [31m [0m
[31m [0m   [2m49 [0m[2m│   │   [0m                                                                        [31m [0m
[31m [0m   [2m50 [0m[2m│   │   [0msub2_workflow = StateGraph(MessagesState)                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'START'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m241[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m238 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m239 [0m[2m│   [0mset_agent_config({[33m"[0m[33mmodel_id[0m[33m"[0m: model_id})                                   [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m241 [2m│   [0morchestration_graph = [1;4mTesting_Orchestration().orch[0m.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m   [2m243 [0m[2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: message_4},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'Testing_Orchestration'[0m object has no attribute [32m'orch'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m243[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m240 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m241 [0m[2m│   [0morchestration_graph = Testing_Orchestration().orch.compile(checkpointer=me [31m [0m
[31m [0m   [2m242 [0m[2m│   [0mevents = orchestration_graph.astream(                                      [31m [0m
[31m [0m [31m❱ [0m243 [2m│   │   [0m{[33m"[0m[33mmessages[0m[33m"[0m: [1;4mmessage_4[0m},                                               [31m [0m
[31m [0m   [2m244 [0m[2m│   │   [0m[2m# Maximum number of steps to take in the graph[0m                         [31m [0m
[31m [0m   [2m245 [0m[2m│   │   [0m{[33m"[0m[33mrecursion_limit[0m[33m"[0m: [94m15[0m},                                               [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'message_4'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m250[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m   [2m249 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m250 [2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m253 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'async_generator'[0m object has no attribute [32m'split'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: who is elon musk


[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m                                                                           [31m [0m
[31m [0m   [2m250 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m91[0m in [92mrewrite_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 88 [0m[94mdef[0m[90m [0m[92mrewrite_node[0m(state: MessagesState):                                        [31m [0m
[31m [0m   [2m 89 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mHere: [0m[33m{[0mstate[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content[33m}[0m[33m\n[0m[33m\n[0m[33m"[0m)                         [31m [0m
[31m [0m   [2m 90 [0m[2m│   [0mmessages = [                                                               [31m [0m
[31m [0m [31m❱ [0m 91 [2m│   │   [0m[1;4mSystemMessage[0m(content=rewrite_prompt),                                 [31m [0m
[31m [0m   [2m 92 [0m[2m│   │   [0mHumanMessage(content=state[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content)                     [31m [0m
[31m [0m   [2m 93 [0m[2m│   [0m]                                                                          [31m [0m
[31m [0m   [2m 94 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'SystemMessage'[0m is not defined
2025-04-13 19:43:59.527 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: who is elon musk


[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m95[0m in [92mrewrite_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 92 [0m[2m│   │   [0mHumanMessage(content=state[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content)                     [31m [0m
[31m [0m   [2m 93 [0m[2m│   [0m]                                                                          [31m [0m
[31m [0m   [2m 94 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 95 [2m│   [0mresult = [1;4mllm_nova[0m.invoke(messages)                                         [31m [0m
[31m [0m   [2m 96 [0m[2m│   [0mstate[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content = result.content                              [31m [0m
[31m [0m   [2m 97 [0m[2m│   [0m[2m#goto = get_next_node(result, router_dispatcher)[0m                           [31m [0m
[31m [0m   [2m 98 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mNOW state after rewite: [0m[33m{[0mresult.content[33m}[0m[33m\n[0m[33m\n[0m[33m"[0m)                     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'llm_nova'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m[1m:[0m[1;94m34[0m                        [91m [0m
[91m [0m def [1;35mbasic_chat[0m[1m([0mquery: str, config[1m[[0m[33m'model_id'[0m[1m][0m: str[1m)[0m:                                 [91m [0m
[91m [0m                                  [1;91m▲[0m                                                   [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mSyntaxError: [0minvalid syntax
2025-04-13 19:45:43.202 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m[1m:[0m[1;94m34[0m                        [91m [0m
[91m [0m def [1;35mbasic_chat[0m[1m([0mquery: str, config[1m[[0m[33m'model_id'[0m[1m][0m: str[1m)[0m:                                 [91m [0m
[91m [0m                                  [1;91m▲[0m                                                   [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mSyntaxError: [0minvalid syntax
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m[1m:[0m[1;94m34[0m                        [91m [0m
[91m [0m def [1;35mbasic_chat[0m[1m([0mquery: str, config[1m[[0m[33m'model_id'[0m[1m][0m: str[1m)[0m:                                 [91m [0m
[91m [0m                                  [1;91m▲[0m                                                   [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mSyntaxError: [0minvalid syntax
2025-04-13 19:46:08.880 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m[1m:[0m[1;94m45[0m                        [91m [0m
[91m [0m def [1;35mmath_tool_test[0m[1m([0mquery: str, config[1m[[0m[33m'model_id'[0m[1m][0m: str[1m)[0m:                             [91m [0m
[91m [0m                                      [1;91m▲[0m                                               [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mSyntaxError: [0minvalid syntax
2025-04-13 19:46:30.115 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 19:46:36.207 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
Here: who is elon musk?


[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m95[0m in [92mrewrite_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 92 [0m[2m│   │   [0mHumanMessage(content=state[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content)                     [31m [0m
[31m [0m   [2m 93 [0m[2m│   [0m]                                                                          [31m [0m
[31m [0m   [2m 94 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 95 [2m│   [0mresult = [1;4mconfig[[0m[1;4;33m'[0m[1;4;33mmodel_id[0m[1;4;33m'[0m[1;4m].invoke[0m(messages)                               [31m [0m
[31m [0m   [2m 96 [0m[2m│   [0mstate[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content = result.content                              [31m [0m
[31m [0m   [2m 97 [0m[2m│   [0m[2m#goto = get_next_node(result, router_dispatcher)[0m                           [31m [0m
[31m [0m   [2m 98 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mNOW state after rewite: [0m[33m{[0mresult.content[33m}[0m[33m\n[0m[33m\n[0m[33m"[0m)                     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'str'[0m object has no attribute [32m'invoke'[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: who is elon musk?


[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m95[0m in [92mrewrite_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 92 [0m[2m│   │   [0mHumanMessage(content=state[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content)                     [31m [0m
[31m [0m   [2m 93 [0m[2m│   [0m]                                                                          [31m [0m
[31m [0m   [2m 94 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 95 [2m│   [0mresult = [1;4mmodel_id[0m.invoke(messages)                                         [31m [0m
[31m [0m   [2m 96 [0m[2m│   [0mstate[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content = result.content                              [31m [0m
[31m [0m   [2m 97 [0m[2m│   [0m[2m#goto = get_next_node(result, router_dispatcher)[0m                           [31m [0m
[31m [0m   [2m 98 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mNOW state after rewite: [0m[33m{[0mresult.content[33m}[0m[33m\n[0m[33m\n[0m[33m"[0m)                     [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'model_id'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 19:48:09.253 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
Here: who is elon musk?


NOW state after rewite: Elon Musk is a highly influential South African-born American entrepreneur, business magnate, and investor known for founding or leading several groundbreaking technology and aerospace companies. He is the CEO of Tesla, an electric vehicle and clean energy company, and SpaceX, a private aerospace manufacturer and space transportation services company. Musk is also the founder of Neuralink, which develops brain-computer interfaces, and The Boring Company, focused on infrastructure and tunnel construction. He acquired Twitter (now X) in 2022 and has been a controversial public figure known for his ambitious technological visions, entrepreneurial success, significant wealth, and provocative social media presence. He is recognized for pushing technological boundaries in areas like electric vehicles, renewable energy, space exploration, and artificial intelligence, and is often compared to innovators like Steve Jobs for his transformative approach to technology and business.


Before router_dispatcher: {'messages': [HumanMessage(content='Elon Musk is a highly influential South African-born American entrepreneur, business magnate, and investor known for founding or leading several groundbreaking technology and aerospace companies. He is the CEO of Tesla, an electric vehicle and clean energy company, and SpaceX, a private aerospace manufacturer and space transportation services company. Musk is also the founder of Neuralink, which develops brain-computer interfaces, and The Boring Company, focused on infrastructure and tunnel construction. He acquired Twitter (now X) in 2022 and has been a controversial public figure known for his ambitious technological visions, entrepreneurial success, significant wealth, and provocative social media presence. He is recognized for pushing technological boundaries in areas like electric vehicles, renewable energy, space exploration, and artificial intelligence, and is often compared to innovators like Steve Jobs for his transformative approach to technology and business.', additional_kwargs={}, response_metadata={}, id='66e2e59b-3ac3-4bdc-a15c-be391586114e'), HumanMessage(content='Elon Musk is a highly influential South African-born American entrepreneur, business magnate, and investor known for founding or leading several groundbreaking technology and aerospace companies. He is the CEO of Tesla, an electric vehicle and clean energy company, and SpaceX, a private aerospace manufacturer and space transportation services company. Musk is also the founder of Neuralink, which develops brain-computer interfaces, and The Boring Company, focused on infrastructure and tunnel construction. He acquired Twitter (now X) in 2022 and has been a controversial public figure known for his ambitious technological visions, entrepreneurial success, significant wealth, and provocative social media presence. He is recognized for pushing technological boundaries in areas like electric vehicles, renewable energy, space exploration, and artificial intelligence, and is often compared to innovators like Steve Jobs for his transformative approach to technology and business.', additional_kwargs={}, response_metadata={}, id='4453db12-76bb-4c7f-a153-3d44ac19b45f')]}


..and message: [HumanMessage(content='Elon Musk is a highly influential South African-born American entrepreneur, business magnate, and investor known for founding or leading several groundbreaking technology and aerospace companies. He is the CEO of Tesla, an electric vehicle and clean energy company, and SpaceX, a private aerospace manufacturer and space transportation services company. Musk is also the founder of Neuralink, which develops brain-computer interfaces, and The Boring Company, focused on infrastructure and tunnel construction. He acquired Twitter (now X) in 2022 and has been a controversial public figure known for his ambitious technological visions, entrepreneurial success, significant wealth, and provocative social media presence. He is recognized for pushing technological boundaries in areas like electric vehicles, renewable energy, space exploration, and artificial intelligence, and is often compared to innovators like Steve Jobs for his transformative approach to technology and business.', additional_kwargs={}, response_metadata={}, id='66e2e59b-3ac3-4bdc-a15c-be391586114e'), HumanMessage(content='Elon Musk is a highly influential South African-born American entrepreneur, business magnate, and investor known for founding or leading several groundbreaking technology and aerospace companies. He is the CEO of Tesla, an electric vehicle and clean energy company, and SpaceX, a private aerospace manufacturer and space transportation services company. Musk is also the founder of Neuralink, which develops brain-computer interfaces, and The Boring Company, focused on infrastructure and tunnel construction. He acquired Twitter (now X) in 2022 and has been a controversial public figure known for his ambitious technological visions, entrepreneurial success, significant wealth, and provocative social media presence. He is recognized for pushing technological boundaries in areas like electric vehicles, renewable energy, space exploration, and artificial intelligence, and is often compared to innovators like Steve Jobs for his transformative approach to technology and business.', additional_kwargs={}, response_metadata={}, id='4453db12-76bb-4c7f-a153-3d44ac19b45f')]


After router_dispatcher: content='sub_graph_research' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 362, 'total_tokens': 370, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-610dfa83', 'finish_reason': 'stop', 'logprobs': None} id='run-76020b29-3513-49aa-be7c-9b79d6e66eb7-0' usage_metadata={'input_tokens': 362, 'output_tokens': 8, 'total_tokens': 370, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to sub graph...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m251[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m   [2m249 [0m[2m│   [0mst.write(response)                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m251 [2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m253 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m254 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'async_generator'[0m object has no attribute [32m'split'[0m
Here: where is san francisco, california


NOW state after rewite: San Francisco is located in Northern California, situated on the west coast of the United States. More specifically, it is located on a peninsula in the San Francisco Bay Area, bounded by the Pacific Ocean to the west, San Francisco Bay to the east, and surrounded by San Mateo County to the south and Marin County to the north. The city is known for its iconic Golden Gate Bridge, steep hills, diverse neighborhoods, and is a major cultural and technological hub in the state of California.


Before router_dispatcher: {'messages': [HumanMessage(content='San Francisco is located in Northern California, situated on the west coast of the United States. More specifically, it is located on a peninsula in the San Francisco Bay Area, bounded by the Pacific Ocean to the west, San Francisco Bay to the east, and surrounded by San Mateo County to the south and Marin County to the north. The city is known for its iconic Golden Gate Bridge, steep hills, diverse neighborhoods, and is a major cultural and technological hub in the state of California.', additional_kwargs={}, response_metadata={}, id='f3dcae51-dfca-421f-93da-75a86d9c3d4f'), HumanMessage(content='San Francisco is located in Northern California, situated on the west coast of the United States. More specifically, it is located on a peninsula in the San Francisco Bay Area, bounded by the Pacific Ocean to the west, San Francisco Bay to the east, and surrounded by San Mateo County to the south and Marin County to the north. The city is known for its iconic Golden Gate Bridge, steep hills, diverse neighborhoods, and is a major cultural and technological hub in the state of California.', additional_kwargs={}, response_metadata={}, id='7d6cd76c-1d2d-4893-8bac-c10341a887af')]}


..and message: [HumanMessage(content='San Francisco is located in Northern California, situated on the west coast of the United States. More specifically, it is located on a peninsula in the San Francisco Bay Area, bounded by the Pacific Ocean to the west, San Francisco Bay to the east, and surrounded by San Mateo County to the south and Marin County to the north. The city is known for its iconic Golden Gate Bridge, steep hills, diverse neighborhoods, and is a major cultural and technological hub in the state of California.', additional_kwargs={}, response_metadata={}, id='f3dcae51-dfca-421f-93da-75a86d9c3d4f'), HumanMessage(content='San Francisco is located in Northern California, situated on the west coast of the United States. More specifically, it is located on a peninsula in the San Francisco Bay Area, bounded by the Pacific Ocean to the west, San Francisco Bay to the east, and surrounded by San Mateo County to the south and Marin County to the north. The city is known for its iconic Golden Gate Bridge, steep hills, diverse neighborhoods, and is a major cultural and technological hub in the state of California.', additional_kwargs={}, response_metadata={}, id='7d6cd76c-1d2d-4893-8bac-c10341a887af')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 279, 'total_tokens': 287, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-39c587d2', 'finish_reason': 'stop', 'logprobs': None} id='run-c331b94c-73fd-45be-9995-618d5a194ae1-0' usage_metadata={'input_tokens': 279, 'output_tokens': 8, 'total_tokens': 287, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m139[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m136 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m137 [0m                                                                               [31m [0m
[31m [0m   [2m138 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m139 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client[0m(google_maps_server_params) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m140 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m141 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m142 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'stdio_client'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: where is san francisco, california


NOW state after rewite: San Francisco is a major city located in Northern California on the west coast of the United States. More specifically, it is situated on the northern end of the San Francisco Peninsula, with the Pacific Ocean to the west, San Francisco Bay to the east, and the Golden Gate strait connecting the bay to the ocean to the north. The city is part of the San Francisco Bay Area and is known for its iconic landmarks like the Golden Gate Bridge, steep hills, diverse culture, and vibrant tech industry.


Before router_dispatcher: {'messages': [HumanMessage(content='San Francisco is a major city located in Northern California on the west coast of the United States. More specifically, it is situated on the northern end of the San Francisco Peninsula, with the Pacific Ocean to the west, San Francisco Bay to the east, and the Golden Gate strait connecting the bay to the ocean to the north. The city is part of the San Francisco Bay Area and is known for its iconic landmarks like the Golden Gate Bridge, steep hills, diverse culture, and vibrant tech industry.', additional_kwargs={}, response_metadata={}, id='d7c2867c-3271-4bd5-bbbd-9a945524402c'), HumanMessage(content='San Francisco is a major city located in Northern California on the west coast of the United States. More specifically, it is situated on the northern end of the San Francisco Peninsula, with the Pacific Ocean to the west, San Francisco Bay to the east, and the Golden Gate strait connecting the bay to the ocean to the north. The city is part of the San Francisco Bay Area and is known for its iconic landmarks like the Golden Gate Bridge, steep hills, diverse culture, and vibrant tech industry.', additional_kwargs={}, response_metadata={}, id='c36805ba-e5d4-4f91-9459-84dbbe36e6c8')]}


..and message: [HumanMessage(content='San Francisco is a major city located in Northern California on the west coast of the United States. More specifically, it is situated on the northern end of the San Francisco Peninsula, with the Pacific Ocean to the west, San Francisco Bay to the east, and the Golden Gate strait connecting the bay to the ocean to the north. The city is part of the San Francisco Bay Area and is known for its iconic landmarks like the Golden Gate Bridge, steep hills, diverse culture, and vibrant tech industry.', additional_kwargs={}, response_metadata={}, id='d7c2867c-3271-4bd5-bbbd-9a945524402c'), HumanMessage(content='San Francisco is a major city located in Northern California on the west coast of the United States. More specifically, it is situated on the northern end of the San Francisco Peninsula, with the Pacific Ocean to the west, San Francisco Bay to the east, and the Golden Gate strait connecting the bay to the ocean to the north. The city is part of the San Francisco Bay Area and is known for its iconic landmarks like the Golden Gate Bridge, steep hills, diverse culture, and vibrant tech industry.', additional_kwargs={}, response_metadata={}, id='c36805ba-e5d4-4f91-9459-84dbbe36e6c8')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 278, 'total_tokens': 286, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-41e2c4f9', 'finish_reason': 'stop', 'logprobs': None} id='run-db909d85-9319-4e19-8c08-28e78a24dfdb-0' usage_metadata={'input_tokens': 278, 'output_tokens': 8, 'total_tokens': 286, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m139[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m136 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m137 [0m                                                                               [31m [0m
[31m [0m   [2m138 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m139 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client[0m(google_maps_server_params) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m140 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m141 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m142 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'stdio_client'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: where is san francisco, california


NOW state after rewite: San Francisco is located on the west coast of the United States, specifically in the northern part of California. It sits on a peninsula at the northern end of the San Francisco Bay, positioned in the Bay Area of Northern California. The city is situated in San Francisco County and is known for its distinctive geography, characterized by many hills, the iconic Golden Gate Bridge, and its proximity to the Pacific Ocean.


Before router_dispatcher: {'messages': [HumanMessage(content='San Francisco is located on the west coast of the United States, specifically in the northern part of California. It sits on a peninsula at the northern end of the San Francisco Bay, positioned in the Bay Area of Northern California. The city is situated in San Francisco County and is known for its distinctive geography, characterized by many hills, the iconic Golden Gate Bridge, and its proximity to the Pacific Ocean.', additional_kwargs={}, response_metadata={}, id='39822e24-cdf7-4586-ab4c-09dd2c0f3fea'), HumanMessage(content='San Francisco is located on the west coast of the United States, specifically in the northern part of California. It sits on a peninsula at the northern end of the San Francisco Bay, positioned in the Bay Area of Northern California. The city is situated in San Francisco County and is known for its distinctive geography, characterized by many hills, the iconic Golden Gate Bridge, and its proximity to the Pacific Ocean.', additional_kwargs={}, response_metadata={}, id='a66efd0b-bd0b-48f1-9ba2-83348c188cc2')]}


..and message: [HumanMessage(content='San Francisco is located on the west coast of the United States, specifically in the northern part of California. It sits on a peninsula at the northern end of the San Francisco Bay, positioned in the Bay Area of Northern California. The city is situated in San Francisco County and is known for its distinctive geography, characterized by many hills, the iconic Golden Gate Bridge, and its proximity to the Pacific Ocean.', additional_kwargs={}, response_metadata={}, id='39822e24-cdf7-4586-ab4c-09dd2c0f3fea'), HumanMessage(content='San Francisco is located on the west coast of the United States, specifically in the northern part of California. It sits on a peninsula at the northern end of the San Francisco Bay, positioned in the Bay Area of Northern California. The city is situated in San Francisco County and is known for its distinctive geography, characterized by many hills, the iconic Golden Gate Bridge, and its proximity to the Pacific Ocean.', additional_kwargs={}, response_metadata={}, id='a66efd0b-bd0b-48f1-9ba2-83348c188cc2')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 236, 'total_tokens': 244, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-1fa589f3', 'finish_reason': 'stop', 'logprobs': None} id='run-10b9e7f0-1179-4319-8bec-51b49a50bbd9-0' usage_metadata={'input_tokens': 236, 'output_tokens': 8, 'total_tokens': 244, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m135[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m132 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m133 [0m                                                                               [31m [0m
[31m [0m   [2m134 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m135 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client[0m(google_maps_server_params) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m136 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m137 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m138 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'stdio_client'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Here: where is san francisco, california


NOW state after rewite: San Francisco is a major city located in Northern California, situated on the west coast of the United States. More specifically, it is located on the northern tip of the San Francisco Peninsula, with the Pacific Ocean to the west and San Francisco Bay to the east. The city is part of the San Francisco Bay Area and is positioned in San Francisco County. It sits approximately 380 miles north of Los Angeles and about 50 miles southeast of Sacramento, the state capital.


Before router_dispatcher: {'messages': [HumanMessage(content='San Francisco is a major city located in Northern California, situated on the west coast of the United States. More specifically, it is located on the northern tip of the San Francisco Peninsula, with the Pacific Ocean to the west and San Francisco Bay to the east. The city is part of the San Francisco Bay Area and is positioned in San Francisco County. It sits approximately 380 miles north of Los Angeles and about 50 miles southeast of Sacramento, the state capital.', additional_kwargs={}, response_metadata={}, id='c1f6a115-233c-4261-99a2-f6aef65b341f'), HumanMessage(content='San Francisco is a major city located in Northern California, situated on the west coast of the United States. More specifically, it is located on the northern tip of the San Francisco Peninsula, with the Pacific Ocean to the west and San Francisco Bay to the east. The city is part of the San Francisco Bay Area and is positioned in San Francisco County. It sits approximately 380 miles north of Los Angeles and about 50 miles southeast of Sacramento, the state capital.', additional_kwargs={}, response_metadata={}, id='618a9f0f-de43-4d0b-9092-fab733854090')]}


..and message: [HumanMessage(content='San Francisco is a major city located in Northern California, situated on the west coast of the United States. More specifically, it is located on the northern tip of the San Francisco Peninsula, with the Pacific Ocean to the west and San Francisco Bay to the east. The city is part of the San Francisco Bay Area and is positioned in San Francisco County. It sits approximately 380 miles north of Los Angeles and about 50 miles southeast of Sacramento, the state capital.', additional_kwargs={}, response_metadata={}, id='c1f6a115-233c-4261-99a2-f6aef65b341f'), HumanMessage(content='San Francisco is a major city located in Northern California, situated on the west coast of the United States. More specifically, it is located on the northern tip of the San Francisco Peninsula, with the Pacific Ocean to the west and San Francisco Bay to the east. The city is part of the San Francisco Bay Area and is positioned in San Francisco County. It sits approximately 380 miles north of Los Angeles and about 50 miles southeast of Sacramento, the state capital.', additional_kwargs={}, response_metadata={}, id='618a9f0f-de43-4d0b-9092-fab733854090')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 251, 'total_tokens': 259, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-f32c371d', 'finish_reason': 'stop', 'logprobs': None} id='run-9b8279b9-5b67-441c-8036-d749a4f9ed7e-0' usage_metadata={'input_tokens': 251, 'output_tokens': 8, 'total_tokens': 259, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m136[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m133 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m134 [0m                                                                               [31m [0m
[31m [0m   [2m135 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m136 [2m│   [0m[94masync[0m [94mwith[0m stdio_client([1;4mgoogle_maps_server_params[0m) [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m137 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m138 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m139 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'google_maps_server_params'[0m is not defined
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m85[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 82 [0m[33m- Maintaining the original intent while enhancing clarity[0m                      [31m [0m
[31m [0m   [2m 83 [0m[33mWhen a user shares a prompt with you, analyze it carefully, then provide an op[0m [31m [0m
[31m [0m   [2m 84 [0m[33mOutput only your answer in text string format.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 85 [33m"""[0m                                                                            [31m [0m
[31m [0m   [2m 86 [0mllm = ChatOpenAI(                                                              [31m [0m
[31m [0m   [2m 87 [0m[2m│   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                                  [31m [0m
[31m [0m   [2m 88 [0m[2m│   [0mtemperature=[94m1.0[0m,                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'StdioServerParameters'[0m is not defined
2025-04-13 19:51:40.361 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m96[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 93 [0m[2m│   │   [0m[33m"[0m[33mmcp/google-maps[0m[33m"[0m                                                      [31m [0m
[31m [0m   [2m 94 [0m[2m│     [0m],                                                                       [31m [0m
[31m [0m   [2m 95 [0m[2m│   [0menv={[33m"[0m[33mGOOGLE_MAPS_API_KEY[0m[33m"[0m: GMAPS_API_KEY},                                [31m [0m
[31m [0m [31m❱ [0m 96 )                                                                              [31m [0m
[31m [0m   [2m 97 [0mllm = ChatOpenAI(                                                              [31m [0m
[31m [0m   [2m 98 [0m[2m│   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                                  [31m [0m
[31m [0m   [2m 99 [0m[2m│   [0mtemperature=[94m1.0[0m,                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'GMAPS_API_KEY'[0m is not defined
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m96[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 93 [0m[2m│   │   [0m[33m"[0m[33mGOOGLE_MAPS_API_KEY[0m[33m"[0m,                                                 [31m [0m
[31m [0m   [2m 94 [0m[2m│   │   [0m[33m"[0m[33mmcp/google-maps[0m[33m"[0m                                                      [31m [0m
[31m [0m   [2m 95 [0m[2m│     [0m],                                                                       [31m [0m
[31m [0m [31m❱ [0m 96 [2m│   [0menv={[33m"[0m[33mGOOGLE_MAPS_API_KEY[0m[33m"[0m: [1;4mGMAPS_API_KEY[0m},                                [31m [0m
[31m [0m   [2m 97 [0m)                                                                              [31m [0m
[31m [0m   [2m 98 [0mllm = ChatOpenAI(                                                              [31m [0m
[31m [0m   [2m 99 [0m[2m│   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'GMAPS_API_KEY'[0m is not defined
2025-04-13 19:51:56.091 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m86[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 83 [0m[33mWhen a user shares a prompt with you, analyze it carefully, then provide an op[0m [31m [0m
[31m [0m   [2m 84 [0m[33mOutput only your answer in text string format.[0m                                 [31m [0m
[31m [0m   [2m 85 [0m[33m"""[0m                                                                            [31m [0m
[31m [0m [31m❱ [0m 86 google_maps_serv[1;4mer[0m_params = StdioServerParameters(                             [31m [0m
[31m [0m   [2m 87 [0m[2m│   [0mcommand=[33m"[0m[33mdocker[0m[33m"[0m,                                                          [31m [0m
[31m [0m   [2m 88 [0m[2m│   [0margs=[                                                                     [31m [0m
[31m [0m   [2m 89 [0m[2m│   │   [0m[33m"[0m[33mrun[0m[33m"[0m,                                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'os'[0m is not defined
2025-04-13 19:53:04.244 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 19:53:10.625 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
Here: where is san francisco


NOW state after rewite: "Provide precise geographical details about San Francisco, including its location within the state of California, its specific coordinates, and its geographic positioning relative to key landmarks or regions (e.g., located in Northern California, situated on the western coast of the United States, positioned on a peninsula between the Pacific Ocean and San Francisco Bay)."


Before router_dispatcher: {'messages': [HumanMessage(content='"Provide precise geographical details about San Francisco, including its location within the state of California, its specific coordinates, and its geographic positioning relative to key landmarks or regions (e.g., located in Northern California, situated on the western coast of the United States, positioned on a peninsula between the Pacific Ocean and San Francisco Bay)."', additional_kwargs={}, response_metadata={}, id='725eece1-bb53-4e5a-a6e1-0b84ff8e89a3'), HumanMessage(content='"Provide precise geographical details about San Francisco, including its location within the state of California, its specific coordinates, and its geographic positioning relative to key landmarks or regions (e.g., located in Northern California, situated on the western coast of the United States, positioned on a peninsula between the Pacific Ocean and San Francisco Bay)."', additional_kwargs={}, response_metadata={}, id='deeaac6d-e7a6-4148-ad0e-295a17118e55')]}


..and message: [HumanMessage(content='"Provide precise geographical details about San Francisco, including its location within the state of California, its specific coordinates, and its geographic positioning relative to key landmarks or regions (e.g., located in Northern California, situated on the western coast of the United States, positioned on a peninsula between the Pacific Ocean and San Francisco Bay)."', additional_kwargs={}, response_metadata={}, id='725eece1-bb53-4e5a-a6e1-0b84ff8e89a3'), HumanMessage(content='"Provide precise geographical details about San Francisco, including its location within the state of California, its specific coordinates, and its geographic positioning relative to key landmarks or regions (e.g., located in Northern California, situated on the western coast of the United States, positioned on a peninsula between the Pacific Ocean and San Francisco Bay)."', additional_kwargs={}, response_metadata={}, id='deeaac6d-e7a6-4148-ad0e-295a17118e55')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 223, 'total_tokens': 231, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-4a084650', 'finish_reason': 'stop', 'logprobs': None} id='run-1fbdf453-fb91-40b4-ba4f-1c7715352e7f-0' usage_metadata={'input_tokens': 223, 'output_tokens': 8, 'total_tokens': 231, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m150[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m147 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m148 [0m                                                                               [31m [0m
[31m [0m   [2m149 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m150 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client(google_maps_server_params)[0m [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m151 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m152 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m153 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/[0m[1;33mcontextlib.py[0m:[94m231[0m in [92m__aexit__[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m228 [0m[2m│   │   │   │   [0m[2m# tell if we get the same exception back[0m                       [31m [0m
[31m [0m   [2m229 [0m[2m│   │   │   │   [0mvalue = typ()                                                  [31m [0m
[31m [0m   [2m230 [0m[2m│   │   │   [0m[94mtry[0m:                                                               [31m [0m
[31m [0m [31m❱ [0m231 [2m│   │   │   │   [0m[94mawait[0m [96mself[0m.gen.athrow(value)                                   [31m [0m
[31m [0m   [2m232 [0m[2m│   │   │   [0m[94mexcept[0m [96mStopAsyncIteration[0m [94mas[0m exc:                                  [31m [0m
[31m [0m   [2m233 [0m[2m│   │   │   │   [0m[2m# Suppress StopIteration *unless* it's the same exception that[0m [31m [0m
[31m [0m   [2m234 [0m[2m│   │   │   │   [0m[2m# was passed to throw().  This prevents a StopIteration[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/client/stdio/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m167[0m in [92mstdio_client[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0m[94mawait[0m anyio.lowlevel.checkpoint()                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[94masync[0m [94mwith[0m (                                                               [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   [0m[1;4manyio.create_task_group()[0m [94mas[0m tg,                                       [31m [0m
[31m [0m   [2m168 [0m[2m│   │   [0mprocess,                                                               [31m [0m
[31m [0m   [2m169 [0m[2m│   [0m):                                                                         [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0mtg.start_soon(stdout_reader)                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/anyio/_backends/[0m[1;33m_async[0m [31m [0m
[31m [0m [1;33mio.py[0m:[94m772[0m in [92m__aexit__[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 769 [0m[2m│   │   │   │   │   [0m[2m# added to self._exceptions so it's ok to break exception[0m [31m [0m
[31m [0m   [2m 770 [0m[2m│   │   │   │   │   [0m[2m# chaining and avoid adding a "During handling of above..[0m [31m [0m
[31m [0m   [2m 771 [0m[2m│   │   │   │   │   [0m[2m# for each nesting level.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 772 [2m│   │   │   │   │   [0m[94mraise[0m BaseExceptionGroup(                                 [31m [0m
[31m [0m   [2m 773 [0m[2m│   │   │   │   │   │   [0m[33m"[0m[33munhandled errors in a TaskGroup[0m[33m"[0m, [96mself[0m._exceptions   [31m [0m
[31m [0m   [2m 774 [0m[2m│   │   │   │   │   [0m) [94mfrom[0m[90m [0m[94mNone[0m                                               [31m [0m
[31m [0m   [2m 775 [0m[2m│   │   │   │   [0m[94melif[0m exc_val:                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mExceptionGroup: [0munhandled errors in a TaskGroup [1m([0m[1;36m1[0m sub-exception[1m)[0m
2025-04-13 19:53:19.330 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-04-13 19:53:41.568 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
Here: GMAPS_API_KEY = os.getenv("gmaps_api_token")


NOW state after rewite: ```python
GOOGLE_MAPS_API_KEY = os.getenv("GOOGLE_MAPS_API_KEY")
```

Optimization notes:
- Used more descriptive variable name (GOOGLE_MAPS_API_KEY instead of GMAPS_API_KEY)
- Followed Python naming conventions (uppercase with underscores for constants)
- Standardized environment variable naming to be more explicit and consistent
- Kept the core functionality of retrieving the API key from environment variables intact

The optimized version improves code readability and follows best practices for naming constants while maintaining the original purpose of the code.


Before router_dispatcher: {'messages': [HumanMessage(content='```python\nGOOGLE_MAPS_API_KEY = os.getenv("GOOGLE_MAPS_API_KEY")\n```\n\nOptimization notes:\n- Used more descriptive variable name (GOOGLE_MAPS_API_KEY instead of GMAPS_API_KEY)\n- Followed Python naming conventions (uppercase with underscores for constants)\n- Standardized environment variable naming to be more explicit and consistent\n- Kept the core functionality of retrieving the API key from environment variables intact\n\nThe optimized version improves code readability and follows best practices for naming constants while maintaining the original purpose of the code.', additional_kwargs={}, response_metadata={}, id='6dc5539a-610d-4bb6-8982-7bf5a4334b0a'), HumanMessage(content='```python\nGOOGLE_MAPS_API_KEY = os.getenv("GOOGLE_MAPS_API_KEY")\n```\n\nOptimization notes:\n- Used more descriptive variable name (GOOGLE_MAPS_API_KEY instead of GMAPS_API_KEY)\n- Followed Python naming conventions (uppercase with underscores for constants)\n- Standardized environment variable naming to be more explicit and consistent\n- Kept the core functionality of retrieving the API key from environment variables intact\n\nThe optimized version improves code readability and follows best practices for naming constants while maintaining the original purpose of the code.', additional_kwargs={}, response_metadata={}, id='999c99d5-885a-4450-a2da-e12294b86b7e')]}


..and message: [HumanMessage(content='```python\nGOOGLE_MAPS_API_KEY = os.getenv("GOOGLE_MAPS_API_KEY")\n```\n\nOptimization notes:\n- Used more descriptive variable name (GOOGLE_MAPS_API_KEY instead of GMAPS_API_KEY)\n- Followed Python naming conventions (uppercase with underscores for constants)\n- Standardized environment variable naming to be more explicit and consistent\n- Kept the core functionality of retrieving the API key from environment variables intact\n\nThe optimized version improves code readability and follows best practices for naming constants while maintaining the original purpose of the code.', additional_kwargs={}, response_metadata={}, id='6dc5539a-610d-4bb6-8982-7bf5a4334b0a'), HumanMessage(content='```python\nGOOGLE_MAPS_API_KEY = os.getenv("GOOGLE_MAPS_API_KEY")\n```\n\nOptimization notes:\n- Used more descriptive variable name (GOOGLE_MAPS_API_KEY instead of GMAPS_API_KEY)\n- Followed Python naming conventions (uppercase with underscores for constants)\n- Standardized environment variable naming to be more explicit and consistent\n- Kept the core functionality of retrieving the API key from environment variables intact\n\nThe optimized version improves code readability and follows best practices for naming constants while maintaining the original purpose of the code.', additional_kwargs={}, response_metadata={}, id='999c99d5-885a-4450-a2da-e12294b86b7e')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 292, 'total_tokens': 300, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-fcafff1c', 'finish_reason': 'stop', 'logprobs': None} id='run-75d9f8f7-3c6a-4426-867d-bdc17738740e-0' usage_metadata={'input_tokens': 292, 'output_tokens': 8, 'total_tokens': 300, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
Here: where is san francisco


NOW state after rewite: "Please provide the geographic location of San Francisco, including its country, state, and specific regional details. Specify whether you want information about its precise coordinates, city location, or general geographic positioning."


Before router_dispatcher: {'messages': [HumanMessage(content='"Please provide the geographic location of San Francisco, including its country, state, and specific regional details. Specify whether you want information about its precise coordinates, city location, or general geographic positioning."', additional_kwargs={}, response_metadata={}, id='c6cdef9e-4c56-4d3a-87b0-54812ec7b5c5'), HumanMessage(content='"Please provide the geographic location of San Francisco, including its country, state, and specific regional details. Specify whether you want information about its precise coordinates, city location, or general geographic positioning."', additional_kwargs={}, response_metadata={}, id='63904174-069d-414e-8ad6-7df7134b1efb')]}


..and message: [HumanMessage(content='"Please provide the geographic location of San Francisco, including its country, state, and specific regional details. Specify whether you want information about its precise coordinates, city location, or general geographic positioning."', additional_kwargs={}, response_metadata={}, id='c6cdef9e-4c56-4d3a-87b0-54812ec7b5c5'), HumanMessage(content='"Please provide the geographic location of San Francisco, including its country, state, and specific regional details. Specify whether you want information about its precise coordinates, city location, or general geographic positioning."', additional_kwargs={}, response_metadata={}, id='63904174-069d-414e-8ad6-7df7134b1efb')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 196, 'total_tokens': 204, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-51d139a1', 'finish_reason': 'stop', 'logprobs': None} id='run-d3ff1609-7545-4bde-b05b-ef117ab45e11-0' usage_metadata={'input_tokens': 196, 'output_tokens': 8, 'total_tokens': 204, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2769[0m in [92mainvoke[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2766 [0m[2m│   │   │   [0mlatest: Union[[96mdict[0m[[96mstr[0m, Any], Any] = [94mNone[0m                         [31m [0m
[31m [0m   [2m2767 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m2768 [0m[2m│   │   │   [0mchunks = []                                                       [31m [0m
[31m [0m [31m❱ [0m2769 [2m│   │   [0m[94masync[0m [94mfor[0m chunk [95min[0m [96mself[0m.astream(                                      [31m [0m
[31m [0m   [2m2770 [0m[2m│   │   │   [0m[96minput[0m,                                                            [31m [0m
[31m [0m   [2m2771 [0m[2m│   │   │   [0mconfig,                                                           [31m [0m
[31m [0m   [2m2772 [0m[2m│   │   │   [0mstream_mode=stream_mode,                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m150[0m in [92mgmaps_node[0m          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m147 [0m[2m│   │   [0m[94mreturn[0m END                                                             [31m [0m
[31m [0m   [2m148 [0m                                                                               [31m [0m
[31m [0m   [2m149 [0m[94masync[0m [94mdef[0m[90m [0m[92mgmaps_node[0m(state: MessagesState) -> Command[Literal[[33m"[0m[33mmap_plotter[0m[33m"[0m, E [31m [0m
[31m [0m [31m❱ [0m150 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client(google_maps_server_params)[0m [94mas[0m (read, write):       [31m [0m
[31m [0m   [2m151 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m152 [0m[2m│   │   │   [0m[2m# Initialize the connection[0m                                        [31m [0m
[31m [0m   [2m153 [0m[2m│   │   │   [0m[94mawait[0m session.initialize()                                         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/[0m[1;33mcontextlib.py[0m:[94m231[0m in [92m__aexit__[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m228 [0m[2m│   │   │   │   [0m[2m# tell if we get the same exception back[0m                       [31m [0m
[31m [0m   [2m229 [0m[2m│   │   │   │   [0mvalue = typ()                                                  [31m [0m
[31m [0m   [2m230 [0m[2m│   │   │   [0m[94mtry[0m:                                                               [31m [0m
[31m [0m [31m❱ [0m231 [2m│   │   │   │   [0m[94mawait[0m [96mself[0m.gen.athrow(value)                                   [31m [0m
[31m [0m   [2m232 [0m[2m│   │   │   [0m[94mexcept[0m [96mStopAsyncIteration[0m [94mas[0m exc:                                  [31m [0m
[31m [0m   [2m233 [0m[2m│   │   │   │   [0m[2m# Suppress StopIteration *unless* it's the same exception that[0m [31m [0m
[31m [0m   [2m234 [0m[2m│   │   │   │   [0m[2m# was passed to throw().  This prevents a StopIteration[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/client/stdio/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m167[0m in [92mstdio_client[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0m[94mawait[0m anyio.lowlevel.checkpoint()                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[94masync[0m [94mwith[0m (                                                               [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   [0m[1;4manyio.create_task_group()[0m [94mas[0m tg,                                       [31m [0m
[31m [0m   [2m168 [0m[2m│   │   [0mprocess,                                                               [31m [0m
[31m [0m   [2m169 [0m[2m│   [0m):                                                                         [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0mtg.start_soon(stdout_reader)                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/anyio/_backends/[0m[1;33m_async[0m [31m [0m
[31m [0m [1;33mio.py[0m:[94m772[0m in [92m__aexit__[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 769 [0m[2m│   │   │   │   │   [0m[2m# added to self._exceptions so it's ok to break exception[0m [31m [0m
[31m [0m   [2m 770 [0m[2m│   │   │   │   │   [0m[2m# chaining and avoid adding a "During handling of above..[0m [31m [0m
[31m [0m   [2m 771 [0m[2m│   │   │   │   │   [0m[2m# for each nesting level.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 772 [2m│   │   │   │   │   [0m[94mraise[0m BaseExceptionGroup(                                 [31m [0m
[31m [0m   [2m 773 [0m[2m│   │   │   │   │   │   [0m[33m"[0m[33munhandled errors in a TaskGroup[0m[33m"[0m, [96mself[0m._exceptions   [31m [0m
[31m [0m   [2m 774 [0m[2m│   │   │   │   │   [0m) [94mfrom[0m[90m [0m[94mNone[0m                                               [31m [0m
[31m [0m   [2m 775 [0m[2m│   │   │   │   [0m[94melif[0m exc_val:                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mExceptionGroup: [0munhandled errors in a TaskGroup [1m([0m[1;36m1[0m sub-exception[1m)[0m
Exception ignored in: <async_generator object Pregel.astream at 0x7f26274823e0>
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/__init__.py", line 2677, in astream
    await asyncio.shield(run_manager.on_chain_error(e))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/tasks.py", line 898, in shield
    inner = ensure_future(arg)
            ^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/tasks.py", line 693, in ensure_future
    loop = events.get_event_loop()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/events.py", line 702, in get_event_loop
    raise RuntimeError('There is no current event loop in thread %r.'
RuntimeError: There is no current event loop in thread 'ScriptRunner.scriptThread'.
/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py:723: RuntimeWarning: coroutine 'AsyncCallbackManagerForChainRun.on_chain_error' was never awaited
  gc.collect(2)
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scriptrunner/script_runner.py:723: RuntimeWarning: coroutine 'AsyncExitStack.__aexit__' was never awaited
  gc.collect(2)
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:04:24.073 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m10[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m  7 [0m[94mfrom[0m[90m [0m[4;96mmcp[0m[90m [0m[94mimport[0m StdioServerParameters                                          [31m [0m
[31m [0m   [2m  8 [0m[94mimport[0m[90m [0m[4;96mos[0m                                                                      [31m [0m
[31m [0m   [2m  9 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 10 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mtools[0m                                                                   [31m [0m
[31m [0m   [2m 11 [0m                                                                               [31m [0m
[31m [0m   [2m 12 [0m                                                                               [31m [0m
[31m [0m   [2m 13 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m:[94m24[0m in [92m<module>[0m              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m21 [0m[2m# -----------------------------------------------------------------------------[0m [31m [0m
[31m [0m   [2m22 [0m                                                                                [31m [0m
[31m [0m   [2m23 [0m                                                                                [31m [0m
[31m [0m [31m❱ [0m24 tavily_search = TavilySearchResults(max_results=config[[33m'[0m[33mmax_search_results[0m[33m'[0m], t [31m [0m
[31m [0m   [2m25 [0m                                                                                [31m [0m
[31m [0m   [2m26 [0m                                                                                [31m [0m
[31m [0m   [2m27 [0m[1;95m@tool[0m                                                                           [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'os'[0m is not defined
2025-04-13 20:06:38.055 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:06:46.749 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m[1m:[0m[1;94m106[0m                       [91m [0m
[91m [0m     [33mapi_key[0m=[1;35mos[0m[1;35m.getenv[0m[1m([0m[33m"tavily_api_token"[0m[1m)[0m                                            [91m [0m
[91m [0m             [1;91m▲[0m                                                                        [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mSyntaxError: [0minvalid syntax. Perhaps you forgot a comma?
2025-04-13 20:11:06.244 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:11:54.556 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
Here: where is san francisco


[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m249[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m246 [0m[2m│   [0m)                                                                          [31m [0m
[31m [0m   [2m247 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m [31m❱ [0m249 [2m│   [0m[1;4mst.write(response)[0m                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m251 [0m[2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m520[0m in [92mwrite[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/[0m[1;33mmetr[0m [31m [0m
[31m [0m [1;33mics_util.py[0m:[94m410[0m in [92mwrapped_func[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/elements/[0m[1;33mwri[0m [31m [0m
[31m [0m [1;33mte.py[0m:[94m189[0m in [92mwrite_stream[0m                                                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/[0m[1;33mtype_util.py[0m [31m [0m
[31m [0m :[94m456[0m in [92masync_generator_to_sync[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m118[0m in [92mrewrite_node[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m115 [0m[2m│   │   [0mHumanMessage(content=state[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content)                     [31m [0m
[31m [0m   [2m116 [0m[2m│   [0m]                                                                          [31m [0m
[31m [0m   [2m117 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m118 [2m│   [0mresult = [1;4mllm.invoke(messages)[0m                                              [31m [0m
[31m [0m   [2m119 [0m[2m│   [0mstate[[33m'[0m[33mmessages[0m[33m'[0m][[94m0[0m].content = result.content                              [31m [0m
[31m [0m   [2m120 [0m[2m│   [0m[2m#goto = get_next_node(result, router_dispatcher)[0m                           [31m [0m
[31m [0m   [2m121 [0m[2m│   [0m[96mprint[0m([33mf[0m[33m"[0m[33mNOW state after rewite: [0m[33m{[0mresult.content[33m}[0m[33m\n[0m[33m\n[0m[33m"[0m)                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langchain_core/languag[0m [31m [0m
[31m [0m [2;33me_models/[0m[1;33mchat_models.py[0m:[94m331[0m in [92minvoke[0m                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 328 [0m[2m│   │   [0mconfig = ensure_config(config)                                        [31m [0m
[31m [0m   [2m 329 [0m[2m│   │   [0m[94mreturn[0m cast(                                                          [31m [0m
[31m [0m   [2m 330 [0m[2m│   │   │   [0m[33m"[0m[33mChatGeneration[0m[33m"[0m,                                                 [31m [0m
[31m [0m [31m❱ [0m 331 [2m│   │   │   [0m[96mself[0m.generate_prompt(                                             [31m [0m
[31m [0m   [2m 332 [0m[2m│   │   │   │   [0m[[96mself[0m._convert_input([96minput[0m)],                                 [31m [0m
[31m [0m   [2m 333 [0m[2m│   │   │   │   [0mstop=stop,                                                    [31m [0m
[31m [0m   [2m 334 [0m[2m│   │   │   │   [0mcallbacks=config.get([33m"[0m[33mcallbacks[0m[33m"[0m),                            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langchain_core/languag[0m [31m [0m
[31m [0m [2;33me_models/[0m[1;33mchat_models.py[0m:[94m894[0m in [92mgenerate_prompt[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 891 [0m[2m│   │   [0m**kwargs: Any,                                                        [31m [0m
[31m [0m   [2m 892 [0m[2m│   [0m) -> LLMResult:                                                           [31m [0m
[31m [0m   [2m 893 [0m[2m│   │   [0mprompt_messages = [p.to_messages() [94mfor[0m p [95min[0m prompts]                  [31m [0m
[31m [0m [31m❱ [0m 894 [2m│   │   [0m[94mreturn[0m [1;4;96mself[0m[1;4m.generate(prompt_messages, stop=stop, callbacks=callbacks,[0m [31m [0m
[31m [0m   [2m 895 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 896 [0m[2m│   [0m[1;95m@override[0m                                                                 [31m [0m
[31m [0m   [2m 897 [0m[2m│   [0m[94masync[0m [94mdef[0m[90m [0m[92magenerate_prompt[0m(                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langchain_core/languag[0m [31m [0m
[31m [0m [2;33me_models/[0m[1;33mchat_models.py[0m:[94m719[0m in [92mgenerate[0m                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 716 [0m[2m│   │   [0m[94mfor[0m i, m [95min[0m [96menumerate[0m(messages):                                      [31m [0m
[31m [0m   [2m 717 [0m[2m│   │   │   [0m[94mtry[0m:                                                              [31m [0m
[31m [0m   [2m 718 [0m[2m│   │   │   │   [0mresults.append(                                               [31m [0m
[31m [0m [31m❱ [0m 719 [2m│   │   │   │   │   [0m[96mself[0m._generate_with_cache(                                [31m [0m
[31m [0m   [2m 720 [0m[2m│   │   │   │   │   │   [0mm,                                                    [31m [0m
[31m [0m   [2m 721 [0m[2m│   │   │   │   │   │   [0mstop=stop,                                            [31m [0m
[31m [0m   [2m 722 [0m[2m│   │   │   │   │   │   [0mrun_manager=run_managers[i] [94mif[0m run_managers [94melse[0m [94mNone[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langchain_core/languag[0m [31m [0m
[31m [0m [2;33me_models/[0m[1;33mchat_models.py[0m:[94m960[0m in [92m_generate_with_cache[0m                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 957 [0m[2m│   │   │   [0mresult = generate_from_stream([96miter[0m(chunks))                       [31m [0m
[31m [0m   [2m 958 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m 959 [0m[2m│   │   │   [0m[94mif[0m inspect.signature([96mself[0m._generate).parameters.get([33m"[0m[33mrun_manager[0m[33m"[0m [31m [0m
[31m [0m [31m❱ [0m 960 [2m│   │   │   │   [0mresult = [1;4;96mself[0m[1;4m._generate([0m                                      [31m [0m
[31m [0m   [2m 961 [0m[1;2;4m│   │   │   │   │   [0m[1;4mmessages, stop=stop, run_manager=run_manager, **kwargs[0m    [31m [0m
[31m [0m   [2m 962 [0m[1;2;4m│   │   │   │   [0m[1;4m)[0m                                                             [31m [0m
[31m [0m   [2m 963 [0m[2m│   │   │   [0m[94melse[0m:                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langchain_openai/chat_[0m [31m [0m
[31m [0m [2;33mmodels/[0m[1;33mbase.py[0m:[94m955[0m in [92m_generate[0m                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 952 [0m[2m│   │   │   [0mresponse = raw_response.parse()                                   [31m [0m
[31m [0m   [2m 953 [0m[2m│   │   │   [0mgeneration_info = {[33m"[0m[33mheaders[0m[33m"[0m: [96mdict[0m(raw_response.headers)}         [31m [0m
[31m [0m   [2m 954 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m [31m❱ [0m 955 [2m│   │   │   [0mresponse = [1;4;96mself[0m[1;4m.client.create(**payload)[0m                          [31m [0m
[31m [0m   [2m 956 [0m[2m│   │   [0m[94mreturn[0m [96mself[0m._create_chat_result(response, generation_info)            [31m [0m
[31m [0m   [2m 957 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 958 [0m[2m│   [0m[94mdef[0m[90m [0m[92m_use_responses_api[0m([96mself[0m, payload: [96mdict[0m) -> [96mbool[0m:                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/openai/_utils/[0m[1;33m_utils.p[0m [31m [0m
[31m [0m [1;33my[0m:[94m279[0m in [92mwrapper[0m                                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m276 [0m[2m│   │   │   │   │   [0m[94melse[0m:                                                      [31m [0m
[31m [0m   [2m277 [0m[2m│   │   │   │   │   │   [0mmsg = [33mf[0m[33m"[0m[33mMissing required argument: [0m[33m{[0mquote(missing[[94m0[0m])[33m}[0m [31m [0m
[31m [0m   [2m278 [0m[2m│   │   │   │   [0m[94mraise[0m [96mTypeError[0m(msg)                                           [31m [0m
[31m [0m [31m❱ [0m279 [2m│   │   │   [0m[94mreturn[0m [1;4mfunc(*args, **kwargs)[0m                                       [31m [0m
[31m [0m   [2m280 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m281 [0m[2m│   │   [0m[94mreturn[0m wrapper  [2m# type: ignore[0m                                         [31m [0m
[31m [0m   [2m282 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/openai/resources/chat/[0m [31m [0m
[31m [0m [2;33mcompletions/[0m[1;33mcompletions.py[0m:[94m914[0m in [92mcreate[0m                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 911 [0m[2m│   │   [0mtimeout: [96mfloat[0m | httpx.Timeout | [94mNone[0m | NotGiven = NOT_GIVEN,         [31m [0m
[31m [0m   [2m 912 [0m[2m│   [0m) -> ChatCompletion | Stream[ChatCompletionChunk]:                        [31m [0m
[31m [0m   [2m 913 [0m[2m│   │   [0mvalidate_response_format(response_format)                             [31m [0m
[31m [0m [31m❱ [0m 914 [2m│   │   [0m[94mreturn[0m [96mself[0m._post(                                                    [31m [0m
[31m [0m   [2m 915 [0m[2m│   │   │   [0m[33m"[0m[33m/chat/completions[0m[33m"[0m,                                              [31m [0m
[31m [0m   [2m 916 [0m[2m│   │   │   [0mbody=maybe_transform(                                             [31m [0m
[31m [0m   [2m 917 [0m[2m│   │   │   │   [0m{                                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/openai/[0m[1;33m_base_client.py[0m [31m [0m
[31m [0m :[94m1242[0m in [92mpost[0m                                                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1239 [0m[2m│   │   [0mopts = FinalRequestOptions.construct(                                 [31m [0m
[31m [0m   [2m1240 [0m[2m│   │   │   [0mmethod=[33m"[0m[33mpost[0m[33m"[0m, url=path, json_data=body, files=to_httpx_files(fil [31m [0m
[31m [0m   [2m1241 [0m[2m│   │   [0m)                                                                     [31m [0m
[31m [0m [31m❱ [0m1242 [2m│   │   [0m[94mreturn[0m cast(ResponseT, [1;4;96mself[0m[1;4m.request(cast_to, opts, stream=stream, str[0m [31m [0m
[31m [0m   [2m1243 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1244 [0m[2m│   [0m[94mdef[0m[90m [0m[92mpatch[0m(                                                                [31m [0m
[31m [0m   [2m1245 [0m[2m│   │   [0m[96mself[0m,                                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/openai/[0m[1;33m_base_client.py[0m [31m [0m
[31m [0m :[94m919[0m in [92mrequest[0m                                                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 916 [0m[2m│   │   [0m[94melse[0m:                                                                 [31m [0m
[31m [0m   [2m 917 [0m[2m│   │   │   [0mretries_taken = [94m0[0m                                                 [31m [0m
[31m [0m   [2m 918 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 919 [2m│   │   [0m[94mreturn[0m [96mself[0m._request(                                                 [31m [0m
[31m [0m   [2m 920 [0m[2m│   │   │   [0mcast_to=cast_to,                                                  [31m [0m
[31m [0m   [2m 921 [0m[2m│   │   │   [0moptions=options,                                                  [31m [0m
[31m [0m   [2m 922 [0m[2m│   │   │   [0mstream=stream,                                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/openai/[0m[1;33m_base_client.py[0m [31m [0m
[31m [0m :[94m1023[0m in [92m_request[0m                                                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1020 [0m[2m│   │   │   │   [0merr.response.read()                                           [31m [0m
[31m [0m   [2m1021 [0m[2m│   │   │   [0m                                                                  [31m [0m
[31m [0m   [2m1022 [0m[2m│   │   │   [0mlog.debug([33m"[0m[33mRe-raising status error[0m[33m"[0m)                              [31m [0m
[31m [0m [31m❱ [0m1023 [2m│   │   │   [0m[1;4;94mraise[0m[1;4m [0m[1;4;96mself[0m[1;4m._make_status_error_from_response(err.response) [0m[1;4;94mfrom[0m[1;4;90m [0m[1;4;94mNo[0m [31m [0m
[31m [0m   [2m1024 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m   [2m1025 [0m[2m│   │   [0m[94mreturn[0m [96mself[0m._process_response(                                        [31m [0m
[31m [0m   [2m1026 [0m[2m│   │   │   [0mcast_to=cast_to,                                                  [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAuthenticationError: [0mError code: [1;36m401[0m - [1m{[0m[32m'detail'[0m: [32m'Invalid API Key'[0m[1m}[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:16:07.089 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m43[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 40 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 41 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 42 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 43 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 44 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 45 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 46 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m243[0m in [92m<module>[0m            [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m240 [0m                                                                               [31m [0m
[31m [0m   [2m241 [0m                                                                               [31m [0m
[31m [0m   [2m242 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m [31m❱ [0m243 [2m# Deployment Nodes -------------[0m[1;2;4m-----------[0m[2m-----------------------------------[0m [31m [0m
[31m [0m   [2m244 [0m[2m# ----------------------------------------------------------------------------[0m [31m [0m
[31m [0m   [2m245 [0m                                                                               [31m [0m
[31m [0m   [2m246 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mNameError: [0mname [32m'BaseMessage'[0m is not defined
2025-04-13 20:17:10.118 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:17:35.659 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:18:07.972 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
2025-04-13 20:40:52.969 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
Google Maps MCP Server running on stdio
/home/aaron/src/first-aid/demo/firstaid/backend/agents.py:197: LangChainDeprecationWarning: The method `BaseChatModel.__call__` was deprecated in langchain-core 0.1.7 and will be removed in 1.0. Use :meth:`~invoke` instead.
  data = json.loads(re.sub(r'```json\n|\n```', '', llm(messages).content))
Here: where is san francisco


NOW state after rewite: "Please provide a detailed description of San Francisco's geographical location. Specifically:
- City and county location within California
- Precise positioning on the West Coast of the United States
- Latitude and longitude coordinates
- Geographic features surrounding the city (e.g., bay area, Pacific coastline, nearby mountains)
- Neighboring cities and regions
- Brief context about its unique geographical setting"


Before router_dispatcher: {'messages': [HumanMessage(content='"Please provide a detailed description of San Francisco\'s geographical location. Specifically:\n- City and county location within California\n- Precise positioning on the West Coast of the United States\n- Latitude and longitude coordinates\n- Geographic features surrounding the city (e.g., bay area, Pacific coastline, nearby mountains)\n- Neighboring cities and regions\n- Brief context about its unique geographical setting"', additional_kwargs={}, response_metadata={}, id='40601b20-acbe-46dc-aa48-35373e01ae1e'), HumanMessage(content='"Please provide a detailed description of San Francisco\'s geographical location. Specifically:\n- City and county location within California\n- Precise positioning on the West Coast of the United States\n- Latitude and longitude coordinates\n- Geographic features surrounding the city (e.g., bay area, Pacific coastline, nearby mountains)\n- Neighboring cities and regions\n- Brief context about its unique geographical setting"', additional_kwargs={}, response_metadata={}, id='3025bb03-b095-4adb-a4be-50695317cb2e')]}


..and message: [HumanMessage(content='"Please provide a detailed description of San Francisco\'s geographical location. Specifically:\n- City and county location within California\n- Precise positioning on the West Coast of the United States\n- Latitude and longitude coordinates\n- Geographic features surrounding the city (e.g., bay area, Pacific coastline, nearby mountains)\n- Neighboring cities and regions\n- Brief context about its unique geographical setting"', additional_kwargs={}, response_metadata={}, id='40601b20-acbe-46dc-aa48-35373e01ae1e'), HumanMessage(content='"Please provide a detailed description of San Francisco\'s geographical location. Specifically:\n- City and county location within California\n- Precise positioning on the West Coast of the United States\n- Latitude and longitude coordinates\n- Geographic features surrounding the city (e.g., bay area, Pacific coastline, nearby mountains)\n- Neighboring cities and regions\n- Brief context about its unique geographical setting"', additional_kwargs={}, response_metadata={}, id='3025bb03-b095-4adb-a4be-50695317cb2e')]


After router_dispatcher: content='sub_graph_maps' additional_kwargs={'refusal': None} response_metadata={'token_usage': {'completion_tokens': 8, 'prompt_tokens': 239, 'total_tokens': 247, 'completion_tokens_details': None, 'prompt_tokens_details': None}, 'model_name': 'us.anthropic.claude-3-5-haiku-20241022-v1:0', 'system_fingerprint': 'fp', 'id': 'chatcmpl-09a57734', 'finish_reason': 'stop', 'logprobs': None} id='run-1f08714d-9437-48c8-820a-37c26a0abde7-0' usage_metadata={'input_tokens': 239, 'output_tokens': 8, 'total_tokens': 247, 'input_token_details': {}, 'output_token_details': {}}


... and type: <class 'langchain_core.messages.ai.AIMessage'>


Dispatching to google maps MCP...
In maps plotter: +++OutputFormat(format=JSON)

Extract keys and values for latitude and longitude from the following text: Based on the geocoding and place search results, here's a detailed description of San Francisco's geographical location:

1. City and County Location within California:
   - San Francisco is located in the northeastern part of California, specifically in the San Francisco Bay Area
   - It serves as both a city and county, which is unique in California

2. Precise Positioning on the West Coast:
   - Coordinates: Latitude 37.7749° N, Longitude 122.4194° W
   - Situated on the northern tip of the San Francisco Peninsula
   - Positioned on the West Coast of the United States, facing the Pacific Ocean

3. Geographic Features:
   - Surrounded by the San Francisco Bay to the east
   - Bordered by the Pacific Ocean to the west
   - Located on a hilly peninsula with numerous steep streets and distinctive topography
   - Proximity to significant geographic features like the Golden Gate Strait and Bay Area mountain ranges

4. Neighboring Cities and Regions:
   The San Francisco Bay Area includes several neighboring cities and regions such as:
   - Oakland (across the Bay)
   - Berkeley
   - San Jose
   - Marin County
   - Silicon Valley region

5. Unique Geographical Context:
   San Francisco's location is remarkably distinctive due to:
   - Its position on a narrow peninsula
   - Surrounded by water on three sides
   - Dramatic geological landscape with hills and tectonic plate boundaries
   - Microclimate influenced by ocean currents and Bay Area topography

The city's geographical positioning makes it a unique urban environment, with stunning natural barriers, diverse landscapes, and a strategic location on the West Coast of the United States. Its complex terrain and maritime setting contribute to its renowned beauty and distinctive character.
lat and lng are: 37.7749 and -122.4194
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m251[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m248 [0m[2m│   [0mresponse = events                                                          [31m [0m
[31m [0m   [2m249 [0m[2m│   [0mst.write(response)                                                         [31m [0m
[31m [0m   [2m250 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m251 [2m│   [0mresponse_formatted = [33mf[0m[33m"[0m[33m{[0mresponse[33m}[0m[33m\n[0m[33m\n[0m[33m ✒︎***Content created by using:*** [0m[33m{[0mmo [31m [0m
[31m [0m   [2m252 [0m[2m│   [0mst.session_state.messages.append({[33m"[0m[33mrole[0m[33m"[0m: [33m"[0m[33massistant[0m[33m"[0m, [33m"[0m[33mcontent[0m[33m"[0m: response [31m [0m
[31m [0m   [2m253 [0m[2m│   [0mst.chat_message([33m"[0m[33mai[0m[33m"[0m, avatar=[33m'[0m[33m🤵[0m[33m'[0m).write(response_formatted)               [31m [0m
[31m [0m   [2m254 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/configs/[0m[1;33mutils.py[0m:[94m1108[0m in [92mestimate_tokens[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m1105 [0m[2m│   [0m[94melse[0m:                                                                     [31m [0m
[31m [0m   [2m1106 [0m[2m│   │   [0m[94mif[0m [96misinstance[0m(text, [96mset[0m):                                             [31m [0m
[31m [0m   [2m1107 [0m[2m│   │   │   [0mtext = [96mstr[0m([96msorted[0m([96mlist[0m(text)))                                    [31m [0m
[31m [0m [31m❱ [0m1108 [2m│   │   [0mword_count = [96mlen[0m([1;4mtext.split[0m())                                        [31m [0m
[31m [0m   [2m1109 [0m[2m│   │   [0mchar_count = [96mlen[0m(text)                                                [31m [0m
[31m [0m   [2m1110 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m1111 [0m[2m│   [0mtokens_word_est = word_count / [94m0.75[0m                                       [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mAttributeError: [0m[32m'async_generator'[0m object has no attribute [32m'split'[0m
2025-04-13 20:49:01.290 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/backend/agents.py:19: LangChainDeprecationWarning: As of langchain-core 0.3.0, LangChain uses pydantic v2 internally. The langchain_core.pydantic_v1 module was a compatibility shim for pydantic v1, and should no longer be used. Please update the code to import from Pydantic directly.

For example, replace imports like: `from langchain_core.pydantic_v1 import BaseModel`
with: `from pydantic import BaseModel`
or the v1 compatibility namespace if you are working in a code base that has not been fully upgraded to pydantic 2 yet. 	from pydantic.v1 import BaseModel

  import tools
2025-05-03 22:11:26.593 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-05-03 22:15:08.979 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-05-03 22:29:10.134 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
  Stopping...

Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.


  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:7869
  Network URL: http://172.31.11.95:7869
  External URL: http://44.229.65.238:7869

/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
USER_AGENT environment variable not set, consider setting it to identify your requests.
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
/home/aaron/src/first-aid/demo/firstaid/backend/agents.py:18: LangChainDeprecationWarning: As of langchain-core 0.3.0, LangChain uses pydantic v2 internally. The langchain_core.pydantic_v1 module was a compatibility shim for pydantic v1, and should no longer be used. Please update the code to import from Pydantic directly.

For example, replace imports like: `from langchain_core.pydantic_v1 import BaseModel`
with: `from pydantic import BaseModel`
or the v1 compatibility namespace if you are working in a code base that has not been fully upgraded to pydantic 2 yet. 	from pydantic.v1 import BaseModel

  import tools
2025-05-18 22:02:28.535 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
INFO:mcp.server.lowlevel.server:Processing request of type ListToolsRequest
INFO:root:Listing tool description.
2025-05-18 22:02:44,557 - INFO - Starting medRxiv MCP server
2025-05-18 22:02:44,564 - INFO - Processing request of type ListToolsRequest
INFO:mcp.server.lowlevel.server:Processing request of type CallToolRequest
INFO:root:Performing tool call with parameters: {'name': 'search_pubmed', 'arguments': {'query': '"atopic dermatitis treatment guidelines"[Title] AND "review"[Publication Type]', 'max_results': 5}}
INFO:pubmed-server:Received tool call: search_pubmed with arguments: {"query": "\"atopic dermatitis treatment guidelines\"[Title] AND \"review\"[Publication Type]", "max_results": 5}
INFO:pubmed-server:Processing search with query: "atopic dermatitis treatment guidelines"[Title] AND "review"[Publication Type], max_results: 5
INFO:pubmed-client:Searching PubMed with query: "atopic dermatitis treatment guidelines"[Title] AND "review"[Publication Type]
2025-05-18 22:02:48,203 - INFO - Processing request of type CallToolRequest
2025-05-18 22:02:48,203 - INFO - Searching for articles with key words: atopic dermatitis eczema treatment first-line second-line topical systemic, num_results: 5
INFO:pubmed-client:Got valid HTTP response from esearch
INFO:pubmed-client:No results found
INFO:pubmed-server:Search completed successfully, found 0 results
an error occurred during closing of asynchronous generator <async_generator object AsyncChannelsManager at 0x7fe9346be750>
asyncgen: <async_generator object AsyncChannelsManager at 0x7fe9346be750>
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 91, in AsyncChannelsManager
    yield (
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 737, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 76, in AsyncChannelsManager
    async with AsyncExitStack() as stack:
               ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 754, in __aexit__
    raise exc_details[1]
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 737, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m258[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m255 [0m[2m│   [0m[2m# Parse text[0m                                                               [31m [0m
[31m [0m   [2m256 [0m[2m│   [0msync_events = sync_generator_from_async(events)                            [31m [0m
[31m [0m   [2m257 [0m[2m│   [0mwrite_data = []                                                            [31m [0m
[31m [0m [31m❱ [0m258 [2m│   [0m[94mfor[0m event [95min[0m [1;4msync_events[0m:                                                  [31m [0m
[31m [0m   [2m259 [0m[2m│   │   [0mwrite_data.append(event)                                               [31m [0m
[31m [0m   [2m260 [0m[2m│   [0mresponse = write_data[-[94m1[0m].popitem()[[94m1[0m][[33m'[0m[33mmessages[0m[33m'[0m]                         [31m [0m
[31m [0m   [2m261 [0m[2m│   [0m[94mif[0m [96mtype[0m(response) [95mis[0m [96mlist[0m:                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m239[0m in [92msync_generator_from_async[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m236 [0m[2m│   [0mst.chat_message(msg[[33m"[0m[33mrole[0m[33m"[0m]).write(msg[[33m"[0m[33mcontent[0m[33m"[0m])                         [31m [0m
[31m [0m   [2m237 [0m                                                                               [31m [0m
[31m [0m   [2m238 [0m[94mdef[0m[90m [0m[92msync_generator_from_async[0m(async_gen):                                      [31m [0m
[31m [0m [31m❱ [0m239 [2m│   [0m[94myield from[0m [1;4masyncio.run(anext(async_gen))[0m                                   [31m [0m
[31m [0m   [2m240 [0m                                                                               [31m [0m
[31m [0m   [2m241 [0m                                                                               [31m [0m
[31m [0m   [2m242 [0m[94mif[0m prompt := st.chat_input():                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m195[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m192 [0m[2m│   │   │   [0m[33m"[0m[33masyncio.run() cannot be called from a running event loop[0m[33m"[0m)        [31m [0m
[31m [0m   [2m193 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m194 [0m[2m│   [0m[94mwith[0m Runner(debug=debug, loop_factory=loop_factory) [94mas[0m runner:             [31m [0m
[31m [0m [31m❱ [0m195 [2m│   │   [0m[94mreturn[0m [1;4mrunner.run(main)[0m                                                [31m [0m
[31m [0m   [2m196 [0m                                                                               [31m [0m
[31m [0m   [2m197 [0m                                                                               [31m [0m
[31m [0m   [2m198 [0m[94mdef[0m[90m [0m[92m_cancel_all_tasks[0m(loop):                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m118[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m115 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m116 [0m[2m│   │   [0m[96mself[0m._interrupt_count = [94m0[0m                                              [31m [0m
[31m [0m   [2m117 [0m[2m│   │   [0m[94mtry[0m:                                                                   [31m [0m
[31m [0m [31m❱ [0m118 [2m│   │   │   [0m[94mreturn[0m [96mself[0m._loop.run_until_complete(task)                         [31m [0m
[31m [0m   [2m119 [0m[2m│   │   [0m[94mexcept[0m exceptions.CancelledError:                                      [31m [0m
[31m [0m   [2m120 [0m[2m│   │   │   [0m[94mif[0m [96mself[0m._interrupt_count > [94m0[0m:                                      [31m [0m
[31m [0m   [2m121 [0m[2m│   │   │   │   [0muncancel = [96mgetattr[0m(task, [33m"[0m[33muncancel[0m[33m"[0m, [94mNone[0m)                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m48[0m in [92minvoke[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 45 [0m[2m│   │   [0m)                                                                      [31m [0m
[31m [0m   [2m 46 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m 47 [0m[2m│   │   [0mout = []                                                               [31m [0m
[31m [0m [31m❱ [0m 48 [2m│   │   [0m[94masync[0m [94mfor[0m s [95min[0m [1;4mevents[0m:                                                 [31m [0m
[31m [0m   [2m 49 [0m[2m│   │   │   [0mout.append(s)                                                      [31m [0m
[31m [0m   [2m 50 [0m[2m│   │   [0m[94myield[0m out                                                              [31m [0m
[31m [0m   [2m 51 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m69[0m in [92mToolsSubgraph[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 66 [0m[2m│   [0mrequested_tool_names = state[[33m'[0m[33mtools_requested[0m[33m'[0m]                            [31m [0m
[31m [0m   [2m 67 [0m[2m│   [0mtools_to_use = [tools[tool](state) [94mfor[0m tool [95min[0m requested_tool_names]       [31m [0m
[31m [0m   [2m 68 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 69 [2m│   [0mresults = [1;4;94mawait[0m[1;4m gather(*tools_to_use)[0m                                      [31m [0m
[31m [0m   [2m 70 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 71 [0m[2m│   [0m[94mreturn[0m state                                                               [31m [0m
[31m [0m   [2m 72 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m:[94m106[0m in [92mmedrxiv_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m103 [0m                                                                               [31m [0m
[31m [0m   [2m104 [0m                                                                               [31m [0m
[31m [0m   [2m105 [0m[94masync[0m [94mdef[0m[90m [0m[92mmedrxiv_node[0m(state: MultiAgentState):                                [31m [0m
[31m [0m [31m❱ [0m106 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client(server_params_medrxiv)[0m [94mas[0m (read, write):           [31m [0m
[31m [0m   [2m107 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m108 [0m[2m│   │   │   [0mllm = ChatOpenAI(                                                  [31m [0m
[31m [0m   [2m109 [0m[2m│   │   │   │   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/[0m[1;33mcontextlib.py[0m:[94m231[0m in [92m__aexit__[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m228 [0m[2m│   │   │   │   [0m[2m# tell if we get the same exception back[0m                       [31m [0m
[31m [0m   [2m229 [0m[2m│   │   │   │   [0mvalue = typ()                                                  [31m [0m
[31m [0m   [2m230 [0m[2m│   │   │   [0m[94mtry[0m:                                                               [31m [0m
[31m [0m [31m❱ [0m231 [2m│   │   │   │   [0m[94mawait[0m [96mself[0m.gen.athrow(value)                                   [31m [0m
[31m [0m   [2m232 [0m[2m│   │   │   [0m[94mexcept[0m [96mStopAsyncIteration[0m [94mas[0m exc:                                  [31m [0m
[31m [0m   [2m233 [0m[2m│   │   │   │   [0m[2m# Suppress StopIteration *unless* it's the same exception that[0m [31m [0m
[31m [0m   [2m234 [0m[2m│   │   │   │   [0m[2m# was passed to throw().  This prevents a StopIteration[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/client/stdio/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m167[0m in [92mstdio_client[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0m[94mawait[0m anyio.lowlevel.checkpoint()                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[94masync[0m [94mwith[0m (                                                               [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   [0m[1;4manyio.create_task_group()[0m [94mas[0m tg,                                       [31m [0m
[31m [0m   [2m168 [0m[2m│   │   [0mprocess,                                                               [31m [0m
[31m [0m   [2m169 [0m[2m│   [0m):                                                                         [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0mtg.start_soon(stdout_reader)                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/anyio/_backends/[0m[1;33m_async[0m [31m [0m
[31m [0m [1;33mio.py[0m:[94m772[0m in [92m__aexit__[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 769 [0m[2m│   │   │   │   │   [0m[2m# added to self._exceptions so it's ok to break exception[0m [31m [0m
[31m [0m   [2m 770 [0m[2m│   │   │   │   │   [0m[2m# chaining and avoid adding a "During handling of above..[0m [31m [0m
[31m [0m   [2m 771 [0m[2m│   │   │   │   │   [0m[2m# for each nesting level.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 772 [2m│   │   │   │   │   [0m[94mraise[0m BaseExceptionGroup(                                 [31m [0m
[31m [0m   [2m 773 [0m[2m│   │   │   │   │   │   [0m[33m"[0m[33munhandled errors in a TaskGroup[0m[33m"[0m, [96mself[0m._exceptions   [31m [0m
[31m [0m   [2m 774 [0m[2m│   │   │   │   │   [0m) [94mfrom[0m[90m [0m[94mNone[0m                                               [31m [0m
[31m [0m   [2m 775 [0m[2m│   │   │   │   [0m[94melif[0m exc_val:                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mExceptionGroup: [0munhandled errors in a TaskGroup [1m([0m[1;36m1[0m sub-exception[1m)[0m
2025-05-18 22:02:50.671 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-05-18 22:03:50.110 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
INFO:mcp.server.lowlevel.server:Processing request of type ListToolsRequest
INFO:root:Listing tool description.
2025-05-18 22:03:56,483 - INFO - Starting medRxiv MCP server
2025-05-18 22:03:56,490 - INFO - Processing request of type ListToolsRequest
2025-05-18 22:04:00,069 - INFO - Processing request of type CallToolRequest
2025-05-18 22:04:00,069 - INFO - Searching for articles with key words: eczema atopic dermatitis treatment evidence-based, num_results: 5
INFO:mcp.server.lowlevel.server:Processing request of type CallToolRequest
INFO:root:Performing tool call with parameters: {'name': 'search_pubmed', 'arguments': {'query': '"atopic dermatitis treatment"[Title] AND "review"[Publication Type]', 'max_results': 5}}
INFO:pubmed-server:Received tool call: search_pubmed with arguments: {"query": "\"atopic dermatitis treatment\"[Title] AND \"review\"[Publication Type]", "max_results": 5}
INFO:pubmed-server:Processing search with query: "atopic dermatitis treatment"[Title] AND "review"[Publication Type], max_results: 5
INFO:pubmed-client:Searching PubMed with query: "atopic dermatitis treatment"[Title] AND "review"[Publication Type]
INFO:pubmed-client:Got valid HTTP response from esearch
INFO:pubmed-client:Found 5 articles
INFO:pubmed-client:Fetching details for PMID 40364168
ERROR:pubmed-client:Error getting article details for PMID 40364168: HTTP Error 400: Bad Request
Traceback (most recent call last):
  File "/home/aaron/src/first-aid/demo/firstaid/backend/scripts/pubmed/pubmed_client.py", line 96, in get_article_details
    detail_handle = Entrez.efetch(db="pubmed", id=pmid, rettype="xml")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/Bio/Entrez/__init__.py", line 201, in efetch
    return _open(request)
           ^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/Bio/Entrez/__init__.py", line 634, in _open
    handle = urlopen(request)
             ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 215, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 521, in open
    response = meth(req, response)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 630, in http_response
    response = self.parent.error(
               ^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 559, in error
    return self._call_chain(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 492, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/urllib/request.py", line 639, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 400: Bad Request
INFO:pubmed-client:Fetching details for PMID 40006628
INFO:pubmed-client:Fetching details for PMID 39740342
INFO:pubmed-client:Fetching details for PMID 39515724
INFO:pubmed-client:Fetching details for PMID 39361693
INFO:pubmed-server:Search completed successfully, found 4 results
2025-05-18 22:04:06,286 - INFO - Processing request of type CallToolRequest
2025-05-18 22:04:06,286 - INFO - Searching for articles with key words: eczema treatment topical corticosteroids calcineurin inhibitors, num_results: 5
INFO:mcp.server.lowlevel.server:Processing request of type CallToolRequest
INFO:root:Performing tool call with parameters: {'name': 'search_pubmed', 'arguments': {'max_results': 5, 'query': '"atopic dermatitis treatment guidelines"[Title] OR "eczema treatment"[Title] AND "systemic therapy"[Title/Abstract]'}}
INFO:pubmed-server:Received tool call: search_pubmed with arguments: {"max_results": 5, "query": "\"atopic dermatitis treatment guidelines\"[Title] OR \"eczema treatment\"[Title] AND \"systemic therapy\"[Title/Abstract]"}
INFO:pubmed-server:Processing search with query: "atopic dermatitis treatment guidelines"[Title] OR "eczema treatment"[Title] AND "systemic therapy"[Title/Abstract], max_results: 5
INFO:pubmed-client:Searching PubMed with query: "atopic dermatitis treatment guidelines"[Title] OR "eczema treatment"[Title] AND "systemic therapy"[Title/Abstract]
INFO:pubmed-client:Got valid HTTP response from esearch
INFO:pubmed-client:Found 1 articles
INFO:pubmed-client:Fetching details for PMID 30719709
INFO:pubmed-server:Search completed successfully, found 1 results
an error occurred during closing of asynchronous generator <async_generator object AsyncChannelsManager at 0x7fe9346bef20>
asyncgen: <async_generator object AsyncChannelsManager at 0x7fe9346bef20>
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 91, in AsyncChannelsManager
    yield (
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 737, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 76, in AsyncChannelsManager
    async with AsyncExitStack() as stack:
               ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 754, in __aexit__
    raise exc_details[1]
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 737, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m258[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m255 [0m[2m│   [0m[2m# Parse text[0m                                                               [31m [0m
[31m [0m   [2m256 [0m[2m│   [0msync_events = sync_generator_from_async(events)                            [31m [0m
[31m [0m   [2m257 [0m[2m│   [0mwrite_data = []                                                            [31m [0m
[31m [0m [31m❱ [0m258 [2m│   [0m[94mfor[0m event [95min[0m [1;4msync_events[0m:                                                  [31m [0m
[31m [0m   [2m259 [0m[2m│   │   [0mwrite_data.append(event)                                               [31m [0m
[31m [0m   [2m260 [0m[2m│   [0mresponse = write_data[-[94m1[0m].popitem()[[94m1[0m][[33m'[0m[33mmessages[0m[33m'[0m]                         [31m [0m
[31m [0m   [2m261 [0m[2m│   [0m[94mif[0m [96mtype[0m(response) [95mis[0m [96mlist[0m:                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m239[0m in [92msync_generator_from_async[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m236 [0m[2m│   [0mst.chat_message(msg[[33m"[0m[33mrole[0m[33m"[0m]).write(msg[[33m"[0m[33mcontent[0m[33m"[0m])                         [31m [0m
[31m [0m   [2m237 [0m                                                                               [31m [0m
[31m [0m   [2m238 [0m[94mdef[0m[90m [0m[92msync_generator_from_async[0m(async_gen):                                      [31m [0m
[31m [0m [31m❱ [0m239 [2m│   [0m[94myield from[0m [1;4masyncio.run(anext(async_gen))[0m                                   [31m [0m
[31m [0m   [2m240 [0m                                                                               [31m [0m
[31m [0m   [2m241 [0m                                                                               [31m [0m
[31m [0m   [2m242 [0m[94mif[0m prompt := st.chat_input():                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m195[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m192 [0m[2m│   │   │   [0m[33m"[0m[33masyncio.run() cannot be called from a running event loop[0m[33m"[0m)        [31m [0m
[31m [0m   [2m193 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m194 [0m[2m│   [0m[94mwith[0m Runner(debug=debug, loop_factory=loop_factory) [94mas[0m runner:             [31m [0m
[31m [0m [31m❱ [0m195 [2m│   │   [0m[94mreturn[0m [1;4mrunner.run(main)[0m                                                [31m [0m
[31m [0m   [2m196 [0m                                                                               [31m [0m
[31m [0m   [2m197 [0m                                                                               [31m [0m
[31m [0m   [2m198 [0m[94mdef[0m[90m [0m[92m_cancel_all_tasks[0m(loop):                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m118[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m115 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m116 [0m[2m│   │   [0m[96mself[0m._interrupt_count = [94m0[0m                                              [31m [0m
[31m [0m   [2m117 [0m[2m│   │   [0m[94mtry[0m:                                                                   [31m [0m
[31m [0m [31m❱ [0m118 [2m│   │   │   [0m[94mreturn[0m [96mself[0m._loop.run_until_complete(task)                         [31m [0m
[31m [0m   [2m119 [0m[2m│   │   [0m[94mexcept[0m exceptions.CancelledError:                                      [31m [0m
[31m [0m   [2m120 [0m[2m│   │   │   [0m[94mif[0m [96mself[0m._interrupt_count > [94m0[0m:                                      [31m [0m
[31m [0m   [2m121 [0m[2m│   │   │   │   [0muncancel = [96mgetattr[0m(task, [33m"[0m[33muncancel[0m[33m"[0m, [94mNone[0m)                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m48[0m in [92minvoke[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 45 [0m[2m│   │   [0m)                                                                      [31m [0m
[31m [0m   [2m 46 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m 47 [0m[2m│   │   [0mout = []                                                               [31m [0m
[31m [0m [31m❱ [0m 48 [2m│   │   [0m[94masync[0m [94mfor[0m s [95min[0m [1;4mevents[0m:                                                 [31m [0m
[31m [0m   [2m 49 [0m[2m│   │   │   [0mout.append(s)                                                      [31m [0m
[31m [0m   [2m 50 [0m[2m│   │   [0m[94myield[0m out                                                              [31m [0m
[31m [0m   [2m 51 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m69[0m in [92mToolsSubgraph[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 66 [0m[2m│   [0mrequested_tool_names = state[[33m'[0m[33mtools_requested[0m[33m'[0m]                            [31m [0m
[31m [0m   [2m 67 [0m[2m│   [0mtools_to_use = [tools[tool](state) [94mfor[0m tool [95min[0m requested_tool_names]       [31m [0m
[31m [0m   [2m 68 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 69 [2m│   [0mresults = [1;4;94mawait[0m[1;4m gather(*tools_to_use)[0m                                      [31m [0m
[31m [0m   [2m 70 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 71 [0m[2m│   [0m[94mreturn[0m state                                                               [31m [0m
[31m [0m   [2m 72 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m:[94m106[0m in [92mmedrxiv_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m103 [0m                                                                               [31m [0m
[31m [0m   [2m104 [0m                                                                               [31m [0m
[31m [0m   [2m105 [0m[94masync[0m [94mdef[0m[90m [0m[92mmedrxiv_node[0m(state: MultiAgentState):                                [31m [0m
[31m [0m [31m❱ [0m106 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client(server_params_medrxiv)[0m [94mas[0m (read, write):           [31m [0m
[31m [0m   [2m107 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m108 [0m[2m│   │   │   [0mllm = ChatOpenAI(                                                  [31m [0m
[31m [0m   [2m109 [0m[2m│   │   │   │   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/[0m[1;33mcontextlib.py[0m:[94m231[0m in [92m__aexit__[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m228 [0m[2m│   │   │   │   [0m[2m# tell if we get the same exception back[0m                       [31m [0m
[31m [0m   [2m229 [0m[2m│   │   │   │   [0mvalue = typ()                                                  [31m [0m
[31m [0m   [2m230 [0m[2m│   │   │   [0m[94mtry[0m:                                                               [31m [0m
[31m [0m [31m❱ [0m231 [2m│   │   │   │   [0m[94mawait[0m [96mself[0m.gen.athrow(value)                                   [31m [0m
[31m [0m   [2m232 [0m[2m│   │   │   [0m[94mexcept[0m [96mStopAsyncIteration[0m [94mas[0m exc:                                  [31m [0m
[31m [0m   [2m233 [0m[2m│   │   │   │   [0m[2m# Suppress StopIteration *unless* it's the same exception that[0m [31m [0m
[31m [0m   [2m234 [0m[2m│   │   │   │   [0m[2m# was passed to throw().  This prevents a StopIteration[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/client/stdio/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m167[0m in [92mstdio_client[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0m[94mawait[0m anyio.lowlevel.checkpoint()                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[94masync[0m [94mwith[0m (                                                               [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   [0m[1;4manyio.create_task_group()[0m [94mas[0m tg,                                       [31m [0m
[31m [0m   [2m168 [0m[2m│   │   [0mprocess,                                                               [31m [0m
[31m [0m   [2m169 [0m[2m│   [0m):                                                                         [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0mtg.start_soon(stdout_reader)                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/anyio/_backends/[0m[1;33m_async[0m [31m [0m
[31m [0m [1;33mio.py[0m:[94m772[0m in [92m__aexit__[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 769 [0m[2m│   │   │   │   │   [0m[2m# added to self._exceptions so it's ok to break exception[0m [31m [0m
[31m [0m   [2m 770 [0m[2m│   │   │   │   │   [0m[2m# chaining and avoid adding a "During handling of above..[0m [31m [0m
[31m [0m   [2m 771 [0m[2m│   │   │   │   │   [0m[2m# for each nesting level.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 772 [2m│   │   │   │   │   [0m[94mraise[0m BaseExceptionGroup(                                 [31m [0m
[31m [0m   [2m 773 [0m[2m│   │   │   │   │   │   [0m[33m"[0m[33munhandled errors in a TaskGroup[0m[33m"[0m, [96mself[0m._exceptions   [31m [0m
[31m [0m   [2m 774 [0m[2m│   │   │   │   │   [0m) [94mfrom[0m[90m [0m[94mNone[0m                                               [31m [0m
[31m [0m   [2m 775 [0m[2m│   │   │   │   [0m[94melif[0m exc_val:                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mExceptionGroup: [0munhandled errors in a TaskGroup [1m([0m[1;36m1[0m sub-exception[1m)[0m
/home/aaron/src/first-aid/demo/firstaid/configs/utility.py:19: LangChainDeprecationWarning: Importing Bedrock from langchain.llms is deprecated. Please replace deprecated imports:

>> from langchain.llms import Bedrock

with new imports of:

>> from langchain_community.llms import Bedrock
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.llms.bedrock import Bedrock
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:36: LangChainDeprecationWarning: Importing WebResearchRetriever from langchain.retrievers is deprecated. Please replace deprecated imports:

>> from langchain.retrievers import WebResearchRetriever

with new imports of:

>> from langchain_community.retrievers.web_research import WebResearchRetriever
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.retrievers.web_research import WebResearchRetriever
/home/aaron/src/first-aid/demo/firstaid/configs/utils.py:39: LangChainDeprecationWarning: Importing load_tools from langchain.agents is deprecated. Please replace deprecated imports:

>> from langchain.agents import load_tools

with new imports of:

>> from langchain_community.agent_toolkits.load_tools import load_tools
You can use the langchain cli to **automatically** upgrade many imports. Please see documentation here <https://python.langchain.com/docs/versions/v0_2/>
  from langchain.agents import AgentExecutor, create_react_agent, initialize_agent, AgentType,load_tools
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m48[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 45 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 46 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 48 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 49 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 50 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 51 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m18[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 15 [0m[94mimport[0m[90m [0m[4;96mjson[0m                                                                    [31m [0m
[31m [0m   [2m 16 [0m[94mimport[0m[90m [0m[4;96mre[0m                                                                      [31m [0m
[31m [0m   [2m 17 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 18 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mtools[0m                                                                   [31m [0m
[31m [0m   [2m 19 [0m[94mfrom[0m[90m [0m[4;96magent_protocol[0m[90m [0m[94mimport[0m MultiAgentState                                     [31m [0m
[31m [0m   [2m 20 [0m                                                                               [31m [0m
[31m [0m   [2m 21 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m[1m:[0m[1;94m203[0m                        [91m [0m
[91m [0m                                                                                      [91m [0m
[91m [0m [1;91m▲[0m                                                                                    [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mIndentationError: [0mexpected an indented block after function definition on line [1;36m202[0m
2025-05-18 22:10:39.050 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m48[0m in [92m<module>[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 45 [0mos.environ[[33m"[0m[33mGMAPS_API_KEY[0m[33m"[0m] = os.getenv([33m"[0m[33mgmaps_api_token[0m[33m"[0m)                     [31m [0m
[31m [0m   [2m 46 [0mos.environ[[33m"[0m[33mPERPLEXITY_API_KEY[0m[33m"[0m] = os.getenv([33m'[0m[33mopenperplex_api_token[0m[33m'[0m)          [31m [0m
[31m [0m   [2m 47 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 48 [1;4;94mfrom[0m[1;4;90m [0m[1;4;96magents[0m[1;4;90m [0m[1;4;94mimport[0m[1;4m *[0m                                                           [31m [0m
[31m [0m   [2m 49 [0m[94mfrom[0m[90m [0m[4;96mtools[0m[90m [0m[94mimport[0m *                                                            [31m [0m
[31m [0m   [2m 50 [0m[94mfrom[0m[90m [0m[4;96morchestration[0m[90m [0m[94mimport[0m *                                                    [31m [0m
[31m [0m   [2m 51 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33magents.py[0m:[94m18[0m in [92m<module>[0m             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 15 [0m[94mimport[0m[90m [0m[4;96mjson[0m                                                                    [31m [0m
[31m [0m   [2m 16 [0m[94mimport[0m[90m [0m[4;96mre[0m                                                                      [31m [0m
[31m [0m   [2m 17 [0m                                                                               [31m [0m
[31m [0m [31m❱ [0m 18 [1;4;94mimport[0m[1;4;90m [0m[1;4;96mtools[0m                                                                   [31m [0m
[31m [0m   [2m 19 [0m[94mfrom[0m[90m [0m[4;96magent_protocol[0m[90m [0m[94mimport[0m MultiAgentState                                     [31m [0m
[31m [0m   [2m 20 [0m                                                                               [31m [0m
[31m [0m   [2m 21 [0m                                                                               [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[91m [0m [2;33m /home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m[1m:[0m[1;94m203[0m                        [91m [0m
[91m [0m                                                                                      [91m [0m
[91m [0m [1;91m▲[0m                                                                                    [91m [0m
[91m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mIndentationError: [0mexpected an indented block after function definition on line [1;36m202[0m
2025-05-18 22:10:59.543 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
2025-05-18 22:11:11.158 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/web/bootstrap.py", line 347, in run
    if asyncio.get_running_loop().is_running():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
                      ^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/watcher/local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/torch/_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
INFO:mcp.server.lowlevel.server:Processing request of type ListToolsRequest
INFO:root:Listing tool description.
2025-05-18 22:11:22,051 - INFO - Starting medRxiv MCP server
2025-05-18 22:11:22,058 - INFO - Processing request of type ListToolsRequest
INFO:mcp.server.lowlevel.server:Processing request of type CallToolRequest
INFO:root:Performing tool call with parameters: {'name': 'search_pubmed', 'arguments': {'query': '"eczema treatment"[Title] AND ("first line" OR "management" OR "guidelines")', 'max_results': 5}}
INFO:pubmed-server:Received tool call: search_pubmed with arguments: {"query": "\"eczema treatment\"[Title] AND (\"first line\" OR \"management\" OR \"guidelines\")", "max_results": 5}
INFO:pubmed-server:Processing search with query: "eczema treatment"[Title] AND ("first line" OR "management" OR "guidelines"), max_results: 5
INFO:pubmed-client:Searching PubMed with query: "eczema treatment"[Title] AND ("first line" OR "management" OR "guidelines")
INFO:pubmed-client:Got valid HTTP response from esearch
INFO:pubmed-client:Found 2 articles
INFO:pubmed-client:Fetching details for PMID 39740738
INFO:pubmed-client:Fetching details for PMID 30663920
INFO:pubmed-server:Search completed successfully, found 2 results
2025-05-18 22:11:28,308 - INFO - Processing request of type CallToolRequest
2025-05-18 22:11:28,308 - INFO - Searching for articles with key words: eczema treatment atopic dermatitis contact dermatitis seborrheic dermatitis first-line, num_results: 5
an error occurred during closing of asynchronous generator <async_generator object AsyncChannelsManager at 0x7fe9340e5300>
asyncgen: <async_generator object AsyncChannelsManager at 0x7fe9340e5300>
Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 91, in AsyncChannelsManager
    yield (
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/manager.py", line 76, in AsyncChannelsManager
    async with AsyncExitStack() as stack:
               ^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 754, in __aexit__
    raise exc_details[1]
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 737, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aaron/.conda/envs/firstaid/lib/python3.12/contextlib.py", line 267, in __aexit__
    raise RuntimeError("generator didn't stop after athrow()")
RuntimeError: generator didn't stop after athrow()
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mexec_code.py[0m:[94m121[0m in [92mexec_func_with_error_handling[0m                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/streamlit/runtime/scri[0m [31m [0m
[31m [0m [2;33mptrunner/[0m[1;33mscript_runner.py[0m:[94m640[0m in [92mcode_to_exec[0m                                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m258[0m in [92m<module>[0m                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m255 [0m[2m│   [0m[2m# Parse text[0m                                                               [31m [0m
[31m [0m   [2m256 [0m[2m│   [0msync_events = sync_generator_from_async(events)                            [31m [0m
[31m [0m   [2m257 [0m[2m│   [0mwrite_data = []                                                            [31m [0m
[31m [0m [31m❱ [0m258 [2m│   [0m[94mfor[0m event [95min[0m [1;4msync_events[0m:                                                  [31m [0m
[31m [0m   [2m259 [0m[2m│   │   [0mwrite_data.append(event)                                               [31m [0m
[31m [0m   [2m260 [0m[2m│   [0mresponse = write_data[-[94m1[0m].popitem()[[94m1[0m][[33m'[0m[33mmessages[0m[33m'[0m]                         [31m [0m
[31m [0m   [2m261 [0m[2m│   [0m[94mif[0m [96mtype[0m(response) [95mis[0m [96mlist[0m:                                                 [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/[0m[1;33mhome.py[0m:[94m239[0m in [92msync_generator_from_async[0m     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m236 [0m[2m│   [0mst.chat_message(msg[[33m"[0m[33mrole[0m[33m"[0m]).write(msg[[33m"[0m[33mcontent[0m[33m"[0m])                         [31m [0m
[31m [0m   [2m237 [0m                                                                               [31m [0m
[31m [0m   [2m238 [0m[94mdef[0m[90m [0m[92msync_generator_from_async[0m(async_gen):                                      [31m [0m
[31m [0m [31m❱ [0m239 [2m│   [0m[94myield from[0m [1;4masyncio.run(anext(async_gen))[0m                                   [31m [0m
[31m [0m   [2m240 [0m                                                                               [31m [0m
[31m [0m   [2m241 [0m                                                                               [31m [0m
[31m [0m   [2m242 [0m[94mif[0m prompt := st.chat_input():                                                  [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m195[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m192 [0m[2m│   │   │   [0m[33m"[0m[33masyncio.run() cannot be called from a running event loop[0m[33m"[0m)        [31m [0m
[31m [0m   [2m193 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m194 [0m[2m│   [0m[94mwith[0m Runner(debug=debug, loop_factory=loop_factory) [94mas[0m runner:             [31m [0m
[31m [0m [31m❱ [0m195 [2m│   │   [0m[94mreturn[0m [1;4mrunner.run(main)[0m                                                [31m [0m
[31m [0m   [2m196 [0m                                                                               [31m [0m
[31m [0m   [2m197 [0m                                                                               [31m [0m
[31m [0m   [2m198 [0m[94mdef[0m[90m [0m[92m_cancel_all_tasks[0m(loop):                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mrunners.py[0m:[94m118[0m in [92mrun[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m115 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m116 [0m[2m│   │   [0m[96mself[0m._interrupt_count = [94m0[0m                                              [31m [0m
[31m [0m   [2m117 [0m[2m│   │   [0m[94mtry[0m:                                                                   [31m [0m
[31m [0m [31m❱ [0m118 [2m│   │   │   [0m[94mreturn[0m [96mself[0m._loop.run_until_complete(task)                         [31m [0m
[31m [0m   [2m119 [0m[2m│   │   [0m[94mexcept[0m exceptions.CancelledError:                                      [31m [0m
[31m [0m   [2m120 [0m[2m│   │   │   [0m[94mif[0m [96mself[0m._interrupt_count > [94m0[0m:                                      [31m [0m
[31m [0m   [2m121 [0m[2m│   │   │   │   [0muncancel = [96mgetattr[0m(task, [33m"[0m[33muncancel[0m[33m"[0m, [94mNone[0m)                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/asyncio/[0m[1;33mbase_events.py[0m:[94m691[0m in        [31m [0m
[31m [0m [92mrun_until_complete[0m                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 688 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 689 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 690 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 691 [2m│   │   [0m[94mreturn[0m [1;4mfuture.result()[0m                                                [31m [0m
[31m [0m   [2m 692 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 693 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 694 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m48[0m in [92minvoke[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 45 [0m[2m│   │   [0m)                                                                      [31m [0m
[31m [0m   [2m 46 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m 47 [0m[2m│   │   [0mout = []                                                               [31m [0m
[31m [0m [31m❱ [0m 48 [2m│   │   [0m[94masync[0m [94mfor[0m s [95min[0m [1;4mevents[0m:                                                 [31m [0m
[31m [0m   [2m 49 [0m[2m│   │   │   [0mout.append(s)                                                      [31m [0m
[31m [0m   [2m 50 [0m[2m│   │   [0m[94myield[0m out                                                              [31m [0m
[31m [0m   [2m 51 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/langgraph/pregel/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m2651[0m in [92mastream[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m2648 [0m[2m│   │   │   │   [0m[2m# channels are guaranteed to be immutable for the duration of[0m [31m [0m
[31m [0m   [2m2649 [0m[2m│   │   │   │   [0m[2m# with channel updates applied only at the transition between[0m [31m [0m
[31m [0m   [2m2650 [0m[2m│   │   │   │   [0m[94mwhile[0m loop.tick(input_keys=[96mself[0m.input_channels):              [31m [0m
[31m [0m [31m❱ [0m2651 [2m│   │   │   │   │   [0m[94masync[0m [94mfor[0m _ [95min[0m runner.atick(                              [31m [0m
[31m [0m   [2m2652 [0m[2m│   │   │   │   │   │   [0mloop.tasks.values(),                                  [31m [0m
[31m [0m   [2m2653 [0m[2m│   │   │   │   │   │   [0mtimeout=[96mself[0m.step_timeout,                            [31m [0m
[31m [0m   [2m2654 [0m[2m│   │   │   │   │   │   [0mretry_policy=[96mself[0m.retry_policy,                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33morchestration.py[0m:[94m69[0m in [92mToolsSubgraph[0m [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 66 [0m[2m│   [0mrequested_tool_names = state[[33m'[0m[33mtools_requested[0m[33m'[0m]                            [31m [0m
[31m [0m   [2m 67 [0m[2m│   [0mtools_to_use = [tools[tool](state) [94mfor[0m tool [95min[0m requested_tool_names]       [31m [0m
[31m [0m   [2m 68 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m [31m❱ [0m 69 [2m│   [0mresults = [1;4;94mawait[0m[1;4m gather(*tools_to_use)[0m                                      [31m [0m
[31m [0m   [2m 70 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m 71 [0m[2m│   [0m[94mreturn[0m state                                                               [31m [0m
[31m [0m   [2m 72 [0m                                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/src/first-aid/demo/firstaid/backend/[0m[1;33mtools.py[0m:[94m106[0m in [92mmedrxiv_node[0m         [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m103 [0m                                                                               [31m [0m
[31m [0m   [2m104 [0m                                                                               [31m [0m
[31m [0m   [2m105 [0m[94masync[0m [94mdef[0m[90m [0m[92mmedrxiv_node[0m(state: MultiAgentState):                                [31m [0m
[31m [0m [31m❱ [0m106 [2m│   [0m[94masync[0m [94mwith[0m [1;4mstdio_client(server_params_medrxiv)[0m [94mas[0m (read, write):           [31m [0m
[31m [0m   [2m107 [0m[2m│   │   [0m[94masync[0m [94mwith[0m ClientSession(read, write) [94mas[0m session:                      [31m [0m
[31m [0m   [2m108 [0m[2m│   │   │   [0mllm = ChatOpenAI(                                                  [31m [0m
[31m [0m   [2m109 [0m[2m│   │   │   │   [0mmodel=config[[33m'[0m[33mmodel_id[0m[33m'[0m],                                      [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/[0m[1;33mcontextlib.py[0m:[94m231[0m in [92m__aexit__[0m       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m228 [0m[2m│   │   │   │   [0m[2m# tell if we get the same exception back[0m                       [31m [0m
[31m [0m   [2m229 [0m[2m│   │   │   │   [0mvalue = typ()                                                  [31m [0m
[31m [0m   [2m230 [0m[2m│   │   │   [0m[94mtry[0m:                                                               [31m [0m
[31m [0m [31m❱ [0m231 [2m│   │   │   │   [0m[94mawait[0m [96mself[0m.gen.athrow(value)                                   [31m [0m
[31m [0m   [2m232 [0m[2m│   │   │   [0m[94mexcept[0m [96mStopAsyncIteration[0m [94mas[0m exc:                                  [31m [0m
[31m [0m   [2m233 [0m[2m│   │   │   │   [0m[2m# Suppress StopIteration *unless* it's the same exception that[0m [31m [0m
[31m [0m   [2m234 [0m[2m│   │   │   │   [0m[2m# was passed to throw().  This prevents a StopIteration[0m        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/mcp/client/stdio/[0m[1;33m__ini[0m [31m [0m
[31m [0m [1;33mt__.py[0m:[94m167[0m in [92mstdio_client[0m                                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m164 [0m[2m│   │   │   [0m[94mawait[0m anyio.lowlevel.checkpoint()                                  [31m [0m
[31m [0m   [2m165 [0m[2m│   [0m                                                                           [31m [0m
[31m [0m   [2m166 [0m[2m│   [0m[94masync[0m [94mwith[0m (                                                               [31m [0m
[31m [0m [31m❱ [0m167 [2m│   │   [0m[1;4manyio.create_task_group()[0m [94mas[0m tg,                                       [31m [0m
[31m [0m   [2m168 [0m[2m│   │   [0mprocess,                                                               [31m [0m
[31m [0m   [2m169 [0m[2m│   [0m):                                                                         [31m [0m
[31m [0m   [2m170 [0m[2m│   │   [0mtg.start_soon(stdout_reader)                                           [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m [2;33m/home/aaron/.conda/envs/firstaid/lib/python3.12/site-packages/anyio/_backends/[0m[1;33m_async[0m [31m [0m
[31m [0m [1;33mio.py[0m:[94m772[0m in [92m__aexit__[0m                                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 769 [0m[2m│   │   │   │   │   [0m[2m# added to self._exceptions so it's ok to break exception[0m [31m [0m
[31m [0m   [2m 770 [0m[2m│   │   │   │   │   [0m[2m# chaining and avoid adding a "During handling of above..[0m [31m [0m
[31m [0m   [2m 771 [0m[2m│   │   │   │   │   [0m[2m# for each nesting level.[0m                                 [31m [0m
[31m [0m [31m❱ [0m 772 [2m│   │   │   │   │   [0m[94mraise[0m BaseExceptionGroup(                                 [31m [0m
[31m [0m   [2m 773 [0m[2m│   │   │   │   │   │   [0m[33m"[0m[33munhandled errors in a TaskGroup[0m[33m"[0m, [96mself[0m._exceptions   [31m [0m
[31m [0m   [2m 774 [0m[2m│   │   │   │   │   [0m) [94mfrom[0m[90m [0m[94mNone[0m                                               [31m [0m
[31m [0m   [2m 775 [0m[2m│   │   │   │   [0m[94melif[0m exc_val:                                                 [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mExceptionGroup: [0munhandled errors in a TaskGroup [1m([0m[1;36m1[0m sub-exception[1m)[0m
  Stopping...
